(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1043:function(e,t,a){},1046:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ne}));var n,i,r,l,s=a(169),c=a.n(s),o=a(102),m=a.n(o),u=a(82),g=a.n(u),p=a(63),d=a.n(p),h=a(166),x=a.n(h),f=a(167),b=a.n(f),y=a(817),$=a.n(y),E=a(168),v=a.n(E),w=a(64),k=a.n(w),C=(a(816),a(0)),N=a.n(C),q=a(109),I=a(3),O=a(128),j=a(55),_=Object(O.a)((function(e,t,a){return t}))(n=Object(O.b)(n=function(e){function t(){return g()(this,t),x()(this,b()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?N.a.createElement("div",{className:"card attack"},N.a.createElement("img",{className:"thumb",src:q.a.base_image+(t.gsx$thumb||q.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),N.a.createElement("div",{className:"left"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.m,{set:t.gsx$set,rarity:t.gsx$rarity}),N.a.createElement("br",null),N.a.createElement("span",null,N.a.createElement(j.b,{bp:t.gsx$bp})," Attack - ",t.gsx$bp),N.a.createElement("br",null),N.a.createElement("div",null,N.a.createElement("span",{className:"bp bigger"},t.gsx$base)," | ",N.a.createElement(j.f,{element:"fire",value:t.gsx$fire}),t.gsx$fire," ",N.a.createElement(j.f,{element:"air",value:t.gsx$air}),t.gsx$air," ",N.a.createElement(j.f,{element:"earth",value:t.gsx$earth}),t.gsx$earth," ",N.a.createElement(j.f,{element:"water",value:t.gsx$water}),t.gsx$water)),N.a.createElement("br",null),N.a.createElement("div",{className:"right"},N.a.createElement(j.a,{ability:t.gsx$ability}),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):N.a.createElement("div",{className:"card attack"},N.a.createElement("img",{className:"fullcard",src:q.a.base_image+(t.gsx$image||q.a.card_back)}),N.a.createElement("div",{className:"right"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.a,{ability:t.gsx$ability}),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),N.a.createElement("br",null)),N.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(N.a.Component))||n)||n,B=Object(O.a)((function(e,t,a){return t}))(i=Object(O.b)(i=function(e){function t(){return g()(this,t),x()(this,b()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?N.a.createElement("div",{className:"card battlegear"},N.a.createElement("img",{className:"thumb",style:{float:"left"},src:q.a.base_image+(t.gsx$thumb||q.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),N.a.createElement("div",{className:"left"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.m,{set:t.gsx$set,rarity:t.gsx$rarity}),N.a.createElement("br",null),N.a.createElement("span",null,N.a.createElement(j.c,null)," Battlegear",t.gsx$types.length>0?" - "+t.gsx$types:null)),N.a.createElement("div",{className:"right"},N.a.createElement(j.a,{ability:t.gsx$ability}),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):N.a.createElement("div",{className:"card battlegear"},N.a.createElement("img",{className:"fullcard",src:q.a.base_image+(t.gsx$image||q.a.card_back)}),N.a.createElement("div",{className:"right"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.a,{ability:t.gsx$ability}),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),N.a.createElement("br",null)),N.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(N.a.Component))||i)||i,S=Object(O.a)((function(e,t,a){return t}))(r=Object(O.b)(r=function(e){function t(){return g()(this,t),x()(this,b()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"render",value:function(){for(var e=this,t=this.props.card,a=[],n=0;n<t.gsx$mugicability;n++)a.push(N.a.createElement(j.j,{key:n,tribe:t.gsx$tribe}));return 0==this.props.ext?N.a.createElement("div",{className:"card creature"},N.a.createElement("img",{className:"thumb",style:{float:"left"},src:q.a.base_image+(t.gsx$thumb||q.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),N.a.createElement("div",{className:"left"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.m,{set:t.gsx$set,rarity:t.gsx$rarity}),N.a.createElement("br",null),N.a.createElement((function(){var e=t.gsx$tribe,a=t.gsx$types,n=!1;a.toLowerCase().includes("past")&&(n=!0,a=a.replace(/past /i,""));var i=" "+(n?"Past ":"")+("Generic"==e?"":e+" ")+a;return N.a.createElement("span",null,N.a.createElement(j.o,{tribe:e}),i)}),null),N.a.createElement("br",null),N.a.createElement("div",null,N.a.createElement(j.f,{element:"fire",value:t.gsx$elements.toLowerCase().indexOf("fire")>=0})," ",N.a.createElement(j.f,{element:"air",value:t.gsx$elements.toLowerCase().indexOf("air")>=0})," ",N.a.createElement(j.f,{element:"earth",value:t.gsx$elements.toLowerCase().indexOf("earth")>=0})," ",N.a.createElement(j.f,{element:"water",value:t.gsx$elements.toLowerCase().indexOf("water")>=0})),N.a.createElement("span",null,a)),N.a.createElement("br",null),N.a.createElement("div",{className:"right"},N.a.createElement(j.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),t.gsx$brainwashed&&N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:"text_brainwashed"},"Brainwashed"),N.a.createElement(j.a,{type:"brainwashed",tribe:t.gsx$tribe,ability:t.gsx$brainwashed})),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary,tribe:t.gsx$tribe}}),t.gsx$types.includes("Chieftain")&&N.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",N.a.createElement("br",null)),N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext)),N.a.createElement("br",null),N.a.createElement("div",{className:"stats"},N.a.createElement("div",{className:"energy"},t.gsx$courage,N.a.createElement(j.d,{discipline:"courage"})),N.a.createElement("div",{className:"energy"},t.gsx$power,N.a.createElement(j.d,{discipline:"power"})),N.a.createElement("div",{className:"energy"},t.gsx$wisdom,N.a.createElement(j.d,{discipline:"wisdom"})),N.a.createElement("div",{className:"energy"},t.gsx$speed,N.a.createElement(j.d,{discipline:"speed"})),N.a.createElement("div",{className:"energy",style:{fontWeight:"bold"}},t.gsx$energy))):N.a.createElement("div",{className:"card creature"},N.a.createElement("img",{className:"fullcard",src:q.a.base_image+(t.gsx$image||q.a.card_back)}),N.a.createElement("div",{className:"right"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement("span",null,t.gsx$courage," ",N.a.createElement(j.d,{discipline:"courage"}))," ",N.a.createElement("span",null,t.gsx$power," ",N.a.createElement(j.d,{discipline:"power"}))," ",N.a.createElement("span",null,t.gsx$wisdom," ",N.a.createElement(j.d,{discipline:"wisdom"}))," ",N.a.createElement("span",null,t.gsx$speed," ",N.a.createElement(j.d,{discipline:"speed"}))," ",N.a.createElement("span",{style:{fontWeight:"bold"}},t.gsx$energy),N.a.createElement("br",null),N.a.createElement(j.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),t.gsx$brainwashed&&N.a.createElement(N.a.Fragment,null,N.a.createElement("div",{className:"text_brainwashed"},"Brainwashed"),N.a.createElement(j.a,{type:"brainwashed",tribe:t.gsx$tribe,ability:t.gsx$brainwashed})),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary,tribe:t.gsx$tribe}}),t.gsx$types.includes("Chieftain")&&N.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",N.a.createElement("br",null)),t.gsx$flavortext&&N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),N.a.createElement("br",null)),N.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(N.a.Component))||r)||r,F=Object(O.a)((function(e,t,a){return t}))(l=Object(O.b)(l=function(e){function t(){return g()(this,t),x()(this,b()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?N.a.createElement("div",{className:"card location"},N.a.createElement("img",{className:"thumb",style:{float:"left",width:"100px",height:"98px"},src:q.a.base_image+(t.gsx$thumb||q.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),N.a.createElement("div",{className:"left"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.m,{set:t.gsx$set,rarity:t.gsx$rarity}),N.a.createElement("br",null),N.a.createElement("span",null,N.a.createElement(j.i,null)," Location",t.gsx$types.length>0?" - "+t.gsx$types:null),N.a.createElement("br",null),N.a.createElement(j.g,{initiative:t.gsx$initiative})),N.a.createElement("div",{className:"right"},N.a.createElement(j.a,{ability:t.gsx$ability}),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):N.a.createElement("div",{className:"card location"},N.a.createElement("img",{className:"fullcard",src:q.a.base_image+(t.gsx$image||q.a.card_back)}),N.a.createElement("div",{className:"right"},N.a.createElement(j.k,{name:t.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.a,{ability:t.gsx$ability}),N.a.createElement(j.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),N.a.createElement("br",null)),N.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(N.a.Component))||l)||l,L=a(1039),A=function(){function e(t,a,n){g()(this,e),this.pitch=void 0,this.octave=void 0,this.duration=void 0,this.time=void 0,this.duration=t,this.pitch=n.pitch,this.octave=n.octave,this.time=a}return d()(e,[{key:"note",get:function(){return{time:this.time+"/4n",pitch:this.pitch+this.octave.toString(),duration:this.duration+"/4n"}}}]),e}(),M=function(){function e(){g()(this,e),this.synth=void 0,this.part=void 0,this.transport=void 0,this.synth=(new L.b).toDestination(),this.part=new L.a,L.c.bpm.value=240}return d()(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),d()(e,[{key:"play",value:function(e){var t=this;L.c.stop(),this.part.dispose();try{var a=G(e);this.part=new L.a((function(e,a){t.synth.triggerAttackRelease(a.pitch,a.duration,e)}),a.map((function(e){return e.note}))).start(),L.c.start()}catch(e){return void console.log(e)}}}]),e}();M.instance=void 0;var R,T,z,P,U,H,D,G=function(e){var t=[],a=0;return e.split(" ").forEach((function(e){var n=e.match(/(?:[1-8]{1})/);if(null===n)throw new Error("invalid_input");var i=parseInt(n[0]),r=e.split(/(?:[1-8]{1})/)[1];t.push(new A(i,a,J(r,t))),a+=i})),t},J=function(e,t){var a=function(){if(0===t.length)return 4;var a=t.length,n=Y(e),i=Y(t[a-1].pitch),r=W(i,n);return r<3?0===r?t[a-1].octave:i>5?n<3?t[a-1].octave+1:t[a-1].octave:i<3&&n>5?t[a-1].octave-1:t[a-1].octave:Q(n,a,t)}();return{pitch:e,octave:a}},Q=function e(t,a,n){if(a<2)return n[a-1].octave;var i=Y(n[a-1].pitch),r=Y(n[a-2].pitch);return r>i?i<t?n[a-1].octave:n[a-1].octave-1:r<i?i<t?n[a-1].octave:n[a-1].octave+1:e(t,a-1,n)},W=function(e,t){var a=Math.abs(e-t);return a<4?a:a>3.5?a-1:a>4.5?a-2:a>5.5?a-3:a>6.5?a-4:a},Y=function(e){var t;switch(e.charAt(0).toUpperCase()){case"A":t=1;break;case"B":t=2;break;case"C":t=3;break;case"D":t=4;break;case"E":t=5;break;case"F":t=6;break;case"G":t=7;break;default:t=3}return e.length>1&&("b"===e.charAt(1).toLowerCase()?t-=.5:"#"===e.charAt(1)&&(t+=.5)),t},V=M.getInstance(),K=function(e){return N.a.createElement(N.a.Fragment,null,N.a.createElement("input",{type:"button",value:"Play",onClick:function(){V.play(e.notes)}}))},X=a(60),Z=Object(O.a)((function(e,t,a){return t}))(R=Object(O.b)(R=function(e){function t(){return g()(this,t),x()(this,b()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.card,n=(t.history,[]);if(0==a.gsx$cost)n.push(N.a.createElement(j.j,{tribe:a.gsx$tribe,key:0,amount:"0"}));else if("x"==a.gsx$cost.toLowerCase())n.push(N.a.createElement(j.j,{tribe:a.gsx$tribe,key:0,amount:"x"}));else if(a.gsx$cost>5)n.push(N.a.createElement(j.j,{tribe:a.gsx$tribe,key:0,amount:a.gsx$cost}));else for(var i=0;i<a.gsx$cost;i++)n.push(N.a.createElement(j.j,{tribe:a.gsx$tribe,key:i}));return 0==this.props.ext?N.a.createElement("div",{className:"card mugic"},N.a.createElement("img",{className:"thumb",style:{float:"left"},src:q.a.base_image+(a.gsx$thumb||q.a.thumb_missing),onClick:function(){return e.props.setImage(a.gsx$image)}}),N.a.createElement("div",{className:"left"},N.a.createElement(j.k,{name:a.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.m,{set:a.gsx$set,rarity:a.gsx$rarity})," ",N.a.createElement("br",null),N.a.createElement(j.o,{size:"icon16",tribe:a.gsx$tribe})," Mugic - ",a.gsx$tribe,N.a.createElement("br",null),N.a.createElement("span",null,n),location.pathname.includes("/beta/")&&N.a.createElement(K,{notes:a.gsx$notes}),N.a.createElement("br",null)),N.a.createElement("br",null),N.a.createElement("div",{className:"right"},N.a.createElement(j.a,{ability:a.gsx$ability,tribe:a.gsx$tribe}),N.a.createElement(j.q,{data:{unique:a.gsx$unique,loyal:a.gsx$loyal,legendary:a.gsx$legendary}}),N.a.createElement("span",{className:"flavortext"},a.gsx$flavortext))):N.a.createElement("div",{className:"card mugic"},N.a.createElement("img",{className:"fullcard",src:q.a.base_image+(a.gsx$image||q.a.card_back)}),N.a.createElement("div",{className:"right"},N.a.createElement(j.k,{name:a.gsx$name}),N.a.createElement("br",null),N.a.createElement(j.a,{ability:a.gsx$ability,tribe:a.gsx$tribe}),N.a.createElement(j.q,{data:{unique:a.gsx$unique,loyal:a.gsx$loyal,legendary:a.gsx$legendary}}),a.gsx$flavortext&&N.a.createElement(N.a.Fragment,null,N.a.createElement("span",{className:"flavortext"},a.gsx$flavortext),N.a.createElement("br",null)),N.a.createElement("span",null,"Art By: ",a.gsx$artist)))}}]),t}(N.a.Component))||R)||R,ee=Object(X.g)(Z),te=Object(O.a)((function(e,t,a){return t}))(T=Object(O.b)(T=function(e){function t(){return g()(this,t),x()(this,b()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"setImage",value:function(e){0==this.props.ext&&this.props.setImage(e)}},{key:"render",value:function(){var e=this,t=this.props.cards;return 1==t.length&&t[0].text?N.a.createElement("div",{style:{textAlign:"left"}},t[0].text):t.map((function(t,a){switch(t.gsx$type){case"Attacks":return N.a.createElement(_,{card:t,key:a,ext:e.props.ext,setImage:e.setImage.bind(e)});case"Battlegear":return N.a.createElement(B,{card:t,key:a,ext:e.props.ext,setImage:e.setImage.bind(e)});case"Creatures":return N.a.createElement(S,{card:t,key:a,ext:e.props.ext,setImage:e.setImage.bind(e)});case"Locations":return N.a.createElement(F,{card:t,key:a,ext:e.props.ext,setImage:e.setImage.bind(e)});case"Mugic":return N.a.createElement(ee,{card:t,key:a,ext:e.props.ext,setImage:e.setImage.bind(e)});default:return N.a.createElement("div",{key:a},"Invalid Card Type")}}))}}]),t}(N.a.Component))||T)||T,ae=a(37),ne=a.n(ae),ie=a(93),re=a.n(ie),le=a(1037),se=a.n(le),ce=a(170),oe=a.n(ce);function me(e){return e=e.replace(/\\/g,"").replace(/\(|\)/g,(function(e){return"\\"+e})).replace(/\‘|\’/g,"'"),new RegExp(e.trim(),"i")}var ue,ge,pe,de,he,xe,fe,be,ye,$e,Ee,ve,we=Object(O.a)((function(e,t,a){return t}))(z=Object(O.b)((P=function(e){function t(e){var a;return g()(this,t),a=x()(this,b()(t).call(this,e)),m()(a,"loaded",U,$()(a)),m()(a,"input",H,$()(a)),m()(a,"collapsed",D,$()(a)),a.list=["sets","types","rarity","tribes","elements","mull","gender"],a.fetchCollapsed=function(){var e=localStorage.getItem("collapsed");e=e?JSON.parse(e):{disciplines:!0,energy:!0,bpmc:!0,types:!0,rarity:!1,sets:!1},a.collapsed=e},a.handleTriggerClick=function(e){var t=a.collapsed;t[e]=!a.collapsed[e],localStorage.setItem("collapsed",JSON.stringify(t))},a.cleanInput=function(){var e={name:"",text:"",subtypes:"",flavor:!0,sets:{},types:{attack:!1,battlegear:!1,creature:!1,location:!1,mugic:!1},rarity:{common:!1,uncommon:!1,rare:!1,"super rare":!1,"ultra rare":!1,promo:!1},tribes:{danian:!1,"m'arrillian":!1,mipedian:!1,overworld:!1,underworld:!1,generic:!1},elements:{fire:!1,air:!1,earth:!1,water:!1,none:!1,and:!1},disciplines:{courage:"",power:"",wisdom:"",speed:""},energy:{min:"",max:""},mcbp:{min:"",max:""},mull:{unique:!1,loyal:!1,legendary:!1,mixed:!1},gender:{ambiguous:!1,female:!1,male:!1}};for(var t in q.a.sets)e.sets[t.toLowerCase()]=!1;a.input=e},a.parseQuery=function(){for(var e=a.props.location.search.toLowerCase(),t={},n=("?"===e[0]?e.substr(1):e).split("&"),i=0;i<n.length;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}if(a.list.forEach((function(e){t[e]&&t[e].split(",").map((function(t){a.input[e][t]=!0}))})),t.hasOwnProperty("name")&&(a.input.name=t.name),t.hasOwnProperty("text")&&(a.input.text=t.text),t.hasOwnProperty("subtypes")&&(a.input.subtypes=t.subtypes),t.hasOwnProperty("courage")&&(a.input.disciplines.courage=t.courage),t.hasOwnProperty("power")&&(a.input.disciplines.power=t.power),t.hasOwnProperty("wisdom")&&(a.input.disciplines.wisdom=t.wisdom),t.hasOwnProperty("speed")&&(a.input.disciplines.speed=t.speed),t.hasOwnProperty("energy")){var l=t.energy.split(",");l[0]>=0&&(a.input.energy.min=l[0]),l[1]>=0&&(a.input.energy.max=l[1])}if(t.hasOwnProperty("mcbp")){var s=t.mcbp.split(",");s[0]>=0&&(a.input.mcbp.min=s[0]),s[1]>=0&&(a.input.mcbp.max=s[1])}},a.reset=function(e){e.preventDefault(),e.stopPropagation(),a.cleanInput()},a.handleChange=function(e,t){var n=e.target,i="checkbox"===n.type?n.checked:n.value,r=n.name;t?a.input[t][r]=i:a.input[r]=i},a.search=function(e){e&&(e.preventDefault(),e.stopPropagation(),a.updateQuery());var t=function(e){var t=new oe.a("filter.db").addCollection("filter"),a=t.addDynamicView("filter");a.applySimpleSort("gsx$name");var n,i=q.a.cards.attacks.chain(),r=q.a.cards.battlegear.chain(),l=q.a.cards.creatures.chain(),s=q.a.cards.locations.chain(),c=q.a.cards.mugic.chain();if(i=i.where((function(e){return""!=e.gsx$set})),r=r.where((function(e){return""!=e.gsx$set})),l=l.where((function(e){return""!=e.gsx$set})),s=s.where((function(e){return""!=e.gsx$set})),c=c.where((function(e){return""!=e.gsx$set})),e.name.length>0){var o=me(e.name);i=i.find({$or:[{gsx$name:{$regex:o}},{gsx$tags:{$regex:o}}]}),r=r.find({$or:[{gsx$name:{$regex:o}},{gsx$tags:{$regex:o}}]}),l=l.find({$or:[{gsx$name:{$regex:o}},{gsx$tags:{$regex:o}}]}),s=s.find({$or:[{gsx$name:{$regex:o}},{gsx$tags:{$regex:o}}]}),c=c.find({$or:[{gsx$name:{$regex:o}},{gsx$tags:{$regex:o}}]})}if(e.text.length>0){var m=e.text.split(",").filter(Boolean).map((function(e){return{$regex:me(e)}})),u=me(e.text),g=(n=[{gsx$tags:{$or:m}},{gsx$ability:{$regex:u}}],e.flavor&&(n.push({gsx$flavortext:{$or:m}}),n.push({gsx$artist:{$or:m}})),n);i=i.find({$or:g}),r=r.find({$or:g}),l=l.find({$or:g.concat([{gsx$brainwashed:{$regex:u}}])}),s=s.find({$or:g}),c=c.find({$or:g})}if(e.subtypes.length>0){var p=e.subtypes.split(",").filter(Boolean).map((function(e){return{$regex:me(e)}}));l=l.find({gsx$types:{$or:p}}),s=s.find({$or:[{gsx$initiative:{$or:p}},{gsx$types:{$or:p}}]}),i=i.limit(0),r=r.find({gsx$types:{$or:p}}),c=c.limit(0)}var d=[];for(var h in e.tribes)e.tribes[h]&&d.push({$regex:new RegExp(h,"i")});if(d.length>0&&(l=l.find({gsx$tribe:{$or:d}}),c=c.find({gsx$tribe:{$or:d}}),i=i.limit(0),r=r.limit(0),s=s.limit(0)),e.elements.none){if(e.elements.and){i=i.where((function(t){return e.elements.fire?""!=t.gsx$fire:""==t.gsx$fire})).where((function(t){return e.elements.air?""!=t.gsx$air:""==t.gsx$air})).where((function(t){return e.elements.earth?""!=t.gsx$earth:""==t.gsx$earth})).where((function(t){return e.elements.water?""!=t.gsx$water:""==t.gsx$water}));var x="";["fire","air","earth","water"].forEach((function(t){e.elements[t]&&(x+=t+", ")})),""!==x&&(l=l.find({gsx$elements:{$regex:new RegExp("^"+x.substring(0,x.length-2)+"s*$","i")}}))}else i=i.where((function(e){return""==e.gsx$fire})).where((function(e){return""==e.gsx$air})).where((function(e){return""==e.gsx$earth})).where((function(e){return""==e.gsx$water})),l=l.where((function(e){return""==e.gsx$elements}));r=r.limit(0),s=s.limit(0),c=c.limit(0)}else{var f=[],b=[];for(var y in e.elements){var $;if("none"!==y&&"and"!==y)if(e.elements[y])f.push({$regex:new RegExp(y,"i")}),b.push((($={})["gsx$"+y]={$gte:0},$))}f.length>0&&(e.elements.and?(l=l.find({gsx$elements:{$and:f}}),i=i.find({$and:b})):(l=l.find({gsx$elements:{$or:f}}),i=i.find({$or:b})),r=r.limit(0),s=s.limit(0),c=c.limit(0))}e.disciplines.courage>0&&(l=l.find({gsx$courage:{$gte:e.disciplines.courage}})),e.disciplines.power>0&&(l=l.find({gsx$power:{$gte:e.disciplines.power}})),e.disciplines.wisdom>0&&(l=l.find({gsx$wisdom:{$gte:e.disciplines.wisdom}})),e.disciplines.speed>0&&(l=l.find({gsx$speed:{$gte:e.disciplines.speed}})),e.energy.min>0&&(l=l.find({gsx$energy:{$gte:e.energy.min}})),e.energy.max>0&&e.energy.max>=e.energy.min&&(l=l.find({gsx$energy:{$lte:e.energy.max}})),(e.energy.min>0||e.energy.max>0||e.disciplines.courage>0||e.disciplines.power>0||e.disciplines.wisdom>0||e.disciplines.speed>0)&&(i=i.limit(0),r=r.limit(0),s=s.limit(0),c=c.limit(0)),""!==e.mcbp.min&&e.mcbp.min>=0&&(i=i.find({gsx$bp:{$gte:e.mcbp.min}}),l=l.find({gsx$mugicability:{$gte:e.mcbp.min}}),c=c.find({gsx$cost:{$gte:e.mcbp.min}})),""!==e.mcbp.max&&e.mcbp.max>=0&&e.mcbp.max>=e.mcbp.min&&(i=i.find({gsx$bp:{$lte:e.mcbp.max}}),l=l.find({gsx$mugicability:{$lte:e.mcbp.max}}),c=c.find({gsx$cost:{$lte:e.mcbp.max}})),(e.mcbp.max>0||e.mcbp.min>0)&&(r=r.limit(0),s=s.limit(0)),e.mull.unique&&(i=i.find({gsx$unique:{$gt:0}}),r=r.find({gsx$unique:{$gt:0}}),l=l.find({gsx$unique:{$gt:0}}),s=s.find({gsx$unique:{$gt:0}}),c=c.find({gsx$unique:{$gt:0}})),e.mull.loyal&&(i=i.limit(0),r=r.find({gsx$loyal:{$gt:0}}),l=l.find({gsx$loyal:{$gt:0}}),c=c.limit(0),s=s.limit(0)),e.mull.legendary&&(i=i.find({gsx$legendary:{$gt:0}}),r=r.find({gsx$legendary:{$gt:0}}),l=l.find({gsx$legendary:{$gt:0}}),s=s.find({gsx$legendary:{$gt:0}}),c=c.find({gsx$legendary:{$gt:0}})),e.mull.mixed&&(i=i.limit(0),l=l.find({gsx$loyal:{$lte:0}}),r=r.find({gsx$loyal:{$lte:0}}),c=c.limit(0),s=s.limit(0));var E=[];for(var v in e.sets)e.sets[v]&&E.push({$eq:v.toUpperCase()});if(0===E.length){var w=Object.keys(e.sets);for(var k in e.sets.proto||w.splice(w.indexOf("proto")),w)E.push({$eq:w[k].toUpperCase()})}E.length>0&&(i=i.find({gsx$set:{$or:E}}),r=r.find({gsx$set:{$or:E}}),l=l.find({gsx$set:{$or:E}}),s=s.find({gsx$set:{$or:E}}),c=c.find({gsx$set:{$or:E}}));var C=[];for(var N in e.rarity)e.rarity[N]&&C.push({$eq:N.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")});C.length>0&&(i=i.find({gsx$rarity:{$or:C}}),r=r.find({gsx$rarity:{$or:C}}),l=l.find({gsx$rarity:{$or:C}}),s=s.find({gsx$rarity:{$or:C}}),c=c.find({gsx$rarity:{$or:C}}));var I=!(e.types.attack|e.types.battlegear|e.types.creature|e.types.location|e.types.mugic);if(I||e.types.attack){var O=i.data();O.forEach((function(e){delete e.$loki})),t.insert(O)}if(I||e.types.battlegear){var j=r.data();j.forEach((function(e){delete e.$loki})),t.insert(j)}if(I||e.types.creature){var _=l.data();_.forEach((function(e){delete e.$loki})),t.insert(_)}if(I||e.types.location){var B=s.data();B.forEach((function(e){delete e.$loki})),t.insert(B)}if(I||e.types.mugic){var S=c.data();S.forEach((function(e){delete e.$loki})),t.insert(S)}return a.data()}(a.input);t.length>0?a.props.handleContent(t):a.props.handleContent([{text:"No Results Found"}])},a.search=a.search.bind($()(a)),a.handleChange=a.handleChange.bind($()(a)),a.reset=a.reset.bind($()(a)),a.handleTriggerClick=a.handleTriggerClick.bind($()(a)),a.props.handleContent([{text:"Loading..."}]),a.cleanInput(),a.parseQuery(),a.fetchCollapsed(),a}var a;return v()(t,e),d()(t,[{key:"updateQuery",value:(a=re()(ne.a.mark((function e(){var t,a,n=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",a=function(e){var t="";return Object.keys(n.input[e]).forEach((function(a){1==n.input[e][a]&&(t+=a+",")})),t.length>0?e+"="+t.replace(/\,$/,"&"):""},this.list.forEach((function(e){return t+=a(e)})),this.input.name&&(t+="name="+encodeURIComponent(this.input.name)+"&"),this.input.text&&(t+="text="+encodeURIComponent(this.input.text)+"&"),this.input.subtypes&&(t+="subtypes="+encodeURIComponent(this.input.subtypes)+"&"),this.input.disciplines.courage>0&&(t+="courage="+this.input.disciplines.courage+"&"),this.input.disciplines.power>0&&(t+="power="+this.input.disciplines.power+"&"),this.input.disciplines.wisdom>0&&(t+="wisdom="+this.input.disciplines.wisdom+"&"),this.input.disciplines.speed>0&&(t+="speed="+this.input.disciplines.speed+"&"),""==this.input.energy.min&&""==this.input.energy.max||(t+="energy=",""!=this.input.energy.min&&this.input.energy.min>=0&&(t+=this.input.energy.min),t+=",",""!=this.input.energy.max&&this.input.energy.max>=0&&(t+=this.input.energy.max),t+="&"),""==this.input.mcbp.min&&""==this.input.mcbp.max||(t+="mcbp=",""!=this.input.mcbp.min&&this.input.mcbp.min>=0&&(t+=this.input.mcbp.min),t+=",",""!=this.input.mcbp.max&&this.input.mcbp.max>=0&&(t+=this.input.mcbp.max),t+="&"),t=t.replace(/\&$/,""),this.props.history.push("/collection/?"+t);case 14:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(0==this.loaded)return q.a.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then((function(){e.loaded=!0,e.search()})),N.a.createElement(j.h,null);var t=function(t,a,n){var i=[];return Object.keys(e.input[t]).forEach((function(r,l){i.push(N.a.createElement("label",{style:{display:a},key:l},N.a.createElement("input",{type:"checkbox",name:r,checked:e.input[t][r],onChange:function(a){return e.handleChange(a,t)}}),n(r)))})),i},a=t("sets","block",(function(e){return q.a.sets[e.toUpperCase()]})),n=t("types","block",(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),i=t("rarity","block",(function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")})),r=t("tribes","inline",(function(e){return N.a.createElement("span",null,N.a.createElement("img",{className:"icon16",src:"/src/img/icons/tribes/"+e+".png"}))})),l=t("elements","inline",(function(e){return N.a.createElement("span",null,N.a.createElement("img",{className:"icon20",src:"/src/img/icons/elements/"+e+".png"})," ")})).slice(0,-2),s=[];return Object.keys(this.input.disciplines).forEach((function(t,a){s.push(N.a.createElement("label",{key:a,className:"disciplines"},N.a.createElement("input",{type:"text",name:t,value:e.input.disciplines[t],onChange:function(t){return e.handleChange(t,"disciplines")}})," ",N.a.createElement("img",{className:"icon20",style:{verticalAlign:"bottom"},src:"/src/img/icons/disciplines/"+t+".png"})," "))})),N.a.createElement("div",{className:"SearchForm"},N.a.createElement("form",{onSubmit:this.search},N.a.createElement("div",{className:"centeredButtons"},N.a.createElement("input",{id:"search",type:"submit",value:"Search"}),N.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset})),N.a.createElement("div",{className:"text-entry"},N.a.createElement("input",{type:"text",name:"name",placeholder:"Card Name",value:this.input.name,onChange:this.handleChange})),N.a.createElement("div",{className:"text-entry"},N.a.createElement("input",{type:"text",name:"text",placeholder:"Card Text",value:this.input.text,onChange:this.handleChange})),N.a.createElement("div",{className:"text-entry"},N.a.createElement("input",{type:"text",name:"subtypes",placeholder:"Subtypes | Initiative",value:this.input.subtypes,onChange:this.handleChange})),N.a.createElement("div",{className:"centeredCheckBox"},N.a.createElement("label",{className:"mull"},N.a.createElement("input",{type:"checkbox",name:"flavor",value:!this.input.flavor,onChange:function(t){e.input.flavor=!t.target.checked}}),"Ignore Flavortext & Artist")),N.a.createElement("br",null),N.a.createElement("div",{className:"centeredCheckBox centeredSpacing"},N.a.createElement("label",{className:"mull"},N.a.createElement("input",{type:"checkbox",name:"unique",checked:this.input.mull.unique,onChange:function(t){return e.handleChange(t,"mull")}}),"Unique"),N.a.createElement("label",{className:"mull"},N.a.createElement("input",{type:"checkbox",name:"loyal",checked:this.input.mull.loyal,onChange:function(t){return e.handleChange(t,"mull")}}),"Loyal"),N.a.createElement("label",{className:"mull"},N.a.createElement("input",{type:"checkbox",name:"legendary",checked:this.input.mull.legendary,onChange:function(t){return e.handleChange(t,"mull")}}),"Legendary")),N.a.createElement("div",{className:"centeredCheckBox"},N.a.createElement("label",{className:"mull"},N.a.createElement("input",{type:"checkbox",name:"mixed",checked:this.input.mull.mixed,onChange:function(t){return e.handleChange(t,"mull")}}),"Non-Loyal")),N.a.createElement("hr",null),N.a.createElement("div",{className:"tribes"},r),N.a.createElement("hr",null),N.a.createElement("div",{className:"tribes"},l,N.a.createElement("label",{className:"none"},N.a.createElement("input",{type:"checkbox",name:"none",checked:this.input.elements.none,onChange:function(t){return e.handleChange(t,"elements")}}),N.a.createElement("span",null,"None"))),N.a.createElement("div",{className:"centeredButtons"},N.a.createElement("input",{type:"button",value:this.input.elements.none?"none":"or",className:"and",disabled:!this.input.elements.and,onClick:function(t){e.input.elements.and=!1}}),N.a.createElement("input",{type:"button",value:this.input.elements.none?"only":"and",className:"and",disabled:this.input.elements.and,onClick:function(t){e.input.elements.and=!0}})),N.a.createElement("hr",null),N.a.createElement(ke,{type:"disciplines",title:"Disciplines",collapsed:this.collapsed,onClick:this.handleTriggerClick},N.a.createElement("div",{className:"disciplines"},s)),N.a.createElement(ke,{type:"energy",title:"Energy",collapsed:this.collapsed,onClick:this.handleTriggerClick},N.a.createElement("div",{className:"minMax"},N.a.createElement("label",{className:"mcbp"},"Min ",N.a.createElement("input",{type:"text",name:"min",value:this.input.energy.min,onChange:function(t){return e.handleChange(t,"energy")}})),N.a.createElement("label",{className:"mcbp"},"Max ",N.a.createElement("input",{type:"text",name:"max",value:this.input.energy.max,onChange:function(t){return e.handleChange(t,"energy")}})))),N.a.createElement(ke,{type:"bpmc",title:"Build Points\nMugic Counters/Cost",collapsed:this.collapsed,onClick:this.handleTriggerClick},N.a.createElement("div",{className:"minMax"},N.a.createElement("label",{className:"mcbp"},"Min ",N.a.createElement("input",{type:"text",name:"min",value:this.input.mcbp.min,onChange:function(t){return e.handleChange(t,"mcbp")}})),N.a.createElement("label",{className:"mcbp"},"Max ",N.a.createElement("input",{type:"text",name:"max",value:this.input.mcbp.max,onChange:function(t){return e.handleChange(t,"mcbp")}})))),N.a.createElement(ke,{type:"types",title:"Card Type",collapsed:this.collapsed,onClick:this.handleTriggerClick},N.a.createElement("div",{className:"centeredCheckBox"},n)),N.a.createElement(ke,{type:"rarity",title:"Rarity",collapsed:this.collapsed,onClick:this.handleTriggerClick},N.a.createElement("div",{className:"centeredCheckBox"},i)),N.a.createElement(ke,{type:"sets",title:"Sets",collapsed:this.collapsed,onClick:this.handleTriggerClick},N.a.createElement("div",{className:"setBox"},N.a.createElement("div",{className:"centeredCheckBox",id:"sets"},a))),N.a.createElement("div",{className:"centeredButtons"},N.a.createElement("input",{id:"search",type:"submit",value:"Search"}),N.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset}))))}}]),t}(N.a.Component),U=k()(P.prototype,"loaded",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=k()(P.prototype,"input",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=k()(P.prototype,"collapsed",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=P))||z)||z,ke=function(e){function t(e){var a;g()(this,t),(a=x()(this,b()(t).call(this,e))).open=!1,a.trigger="";var n=e.collapsed,i=e.type;return a.open=n[i],a.trigger=e.title,a}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.children,n=e.onClick;return N.a.createElement(se.a,{trigger:this.trigger,open:this.open,onOpen:function(){return n(t)},onClose:function(){return n(t)}},a)}}]),t}(N.a.Component),Ce=(a(1043),Object(I.n)({style:{},get fixed(){return this.style},get isFixed(){return 0!==Object.entries(this.style).length},setFixed:function(e){if(window.matchMedia("(min-width: 975px)").matches){var t=document.getElementById("player").getBoundingClientRect().left+4,a=document.querySelector(".collection > .left").getBoundingClientRect().width+2;this.style={position:"fixed",top:0,left:"".concat(t,"px"),overflowY:"auto",height:"".concat(e,"px"),width:"".concat(a,"px")}}},removeFixed:function(){this.style={}}},{setFixed:I.f,removeFixed:I.f},{deep:!1})),Ne=Object(O.a)((function(e,t,a){return t}))(de=Object(O.b)((he=function(e){function t(){var e;g()(this,t),e=x()(this,b()(t).call(this)),m()(e,"loaded",xe,$()(e)),m()(e,"n",fe,$()(e)),m()(e,"p",be,$()(e)),m()(e,"ext",ye,$()(e)),m()(e,"content",$e,$()(e)),m()(e,"card_img",Ee,$()(e)),m()(e,"fixedStyles",ve,$()(e)),e.handleScroll=function(e){if(e.preventDefault(),window.pageYOffset>=235){var t=document.documentElement,a="scrollHeight",n="clientHeight",i=document.getElementById("side-menu"),r=document.querySelector(".collection > .right"),l=t[a]-window.innerHeight-t.scrollTop;if(l<=90){var s=t[n]-(90-l);Ce.setFixed(s)}else(i[a]>t[n]||i[n]!==t[n])&&Ce.setFixed(window.innerHeight);!function(e){if(r[n]<window.innerHeight)r.style.minHeight="".concat(e,"px");else{if(r[n]===window.innerHeight)return;r.style.minHeight&&(r.style.minHeight=null)}}(window.innerHeight)}else Ce.isFixed&&Ce.removeFixed()};var a=localStorage.getItem("extended");return null==a&&(e.ext=!1),e.ext=/true/i.test(a),e}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleScroll)}},{key:"handleContent",value:function(e){this.content=e,this.p=1}},{key:"setImage",value:function(e){this.card_img=e||q.a.card_back,this.changeImage()}},{key:"setExt",value:function(){this.ext=!this.ext,localStorage.setItem("extended",this.ext)}},{key:"render",value:function(){var e=this;return N.a.createElement("div",{className:"collection "+(this.ext?"extended":"short")},N.a.createElement("div",{className:"left"},N.a.createElement("div",{id:"side-menu",style:Ce.fixed},N.a.createElement(Ie,{url:q.a.base_image+this.card_img,ref:function(t){t&&(e.changeImage=t.getInstance().changeImage)}}),N.a.createElement(we,c()({handleContent:this.handleContent.bind(this)},this.props)))),N.a.createElement("div",{className:"right"},N.a.createElement("div",{className:"list-nav-top"},this.navigation(),this.extended()),N.a.createElement("br",null),N.a.createElement(te,{ext:this.ext,cards:this.content.slice(this.n*(this.p-1),this.n*this.p),setImage:this.setImage.bind(this)}),N.a.createElement("br",null),this.navigation()))}},{key:"extended",value:function(){return N.a.createElement("div",{className:"ext-button"},N.a.createElement("button",{id:"buttons",onClick:this.setExt.bind(this)},this.ext?"Short Format":"Extended Format"))}},{key:"navigation",value:function(){var e=this,t=Math.ceil(this.content.length/this.n);return N.a.createElement("div",{className:"entries"},this.content.length," results - page ",this.p," of ",t," ",e.p>1?N.a.createElement("button",{id:"buttons",onClick:function(){e.p--,window.scrollTo(0,0)}},"prev"):N.a.createElement("button",{id:"buttons",disabled:!0},"prev")," ",e.p<t?N.a.createElement("button",{id:"buttons",onClick:function(){e.p++,window.scrollTo(0,0)}},"next"):N.a.createElement("button",{id:"buttons",disabled:!0},"next"),N.a.createElement("br",null),"Entries per page",N.a.createElement("input",{type:"button",value:"5",disabled:"5"==this.n,onClick:function(t){return e.n=t.target.value}})," ",N.a.createElement("input",{type:"button",value:"10",disabled:"10"==this.n,onClick:function(t){return e.n=t.target.value}})," ",N.a.createElement("input",{type:"button",value:"20",disabled:"20"==this.n,onClick:function(t){return e.n=t.target.value}})," ",N.a.createElement("input",{type:"button",value:"50",disabled:"50"==this.n,onClick:function(t){return e.n=t.target.value}}))}}]),t}(N.a.Component),xe=k()(he.prototype,"loaded",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=k()(he.prototype,"n",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),be=k()(he.prototype,"p",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ye=k()(he.prototype,"ext",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$e=k()(he.prototype,"content",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=k()(he.prototype,"card_img",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.a.card_back}}),ve=k()(he.prototype,"fixedStyles",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=he))||de)||de,qe=Object(O.b)((ge=function(e){function t(){var e,a;g()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=x()(this,(e=b()(t)).call.apply(e,[this].concat(i))),m()(a,"display",pe,$()(a)),a.handleClickOutside=function(e){a.display=!1},a.changeImage=function(){a.display=!0},a}return v()(t,e),d()(t,[{key:"render",value:function(){return N.a.createElement("div",{className:"card_img"},N.a.createElement("img",{className:this.display?"":"hidden",src:this.props.url}))}}]),t}(N.a.Component),pe=k()(ge.prototype,"display",[I.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=ge))||ue,Ie=(0,a(1038).default)(qe)}}]);