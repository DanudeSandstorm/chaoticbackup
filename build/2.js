(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{387:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n,r,i,l,s,c,m,u,o,g,p=a(122),d=a.n(p),x=a(64),h=a.n(x),b=a(62),f=a.n(b),$=a(52),y=a.n($),E=a(119),v=a.n(E),w=a(120),k=a.n(w),N=a(165),C=a.n(N),q=a(121),I=a.n(q),O=a(39),_=a.n(O),R=(a(164),a(0)),j=a.n(R),B=a(70),M=a(6),A=a(85),L=a(35),P=Object(A.a)(function(e,t,a){return t})(n=Object(A.b)(n=function(e){function t(){return f()(this,t),v()(this,k()(t).apply(this,arguments))}return I()(t,e),y()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?j.a.createElement("div",{className:"card attack"},j.a.createElement("img",{className:"thumb",src:B.a.base_image+(t.gsx$thumb||B.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),j.a.createElement("div",{className:"left"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity}),j.a.createElement("br",null),j.a.createElement("span",null,j.a.createElement(L.b,null)," Attack - ",t.gsx$bp),j.a.createElement("br",null),j.a.createElement("div",null,j.a.createElement("span",{className:"bigger"},t.gsx$base)," | ",j.a.createElement(L.f,{element:"fire",value:t.gsx$fire}),t.gsx$fire," ",j.a.createElement(L.f,{element:"air",value:t.gsx$air}),t.gsx$air," ",j.a.createElement(L.f,{element:"earth",value:t.gsx$earth}),t.gsx$earth," ",j.a.createElement(L.f,{element:"water",value:t.gsx$water}),t.gsx$water)),j.a.createElement("br",null),j.a.createElement("div",{className:"right"},j.a.createElement(L.a,{ability:t.gsx$ability}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):j.a.createElement("div",{className:"card attack"},j.a.createElement("img",{className:"fullcard",src:B.a.base_image+(t.gsx$image||B.a.card_back)}),j.a.createElement("div",{className:"right"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.a,{ability:t.gsx$ability}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&j.a.createElement(j.a.Fragment,null,j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),j.a.createElement("br",null)),j.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(j.a.Component))||n)||n,S=Object(A.a)(function(e,t,a){return t})(r=Object(A.b)(r=function(e){function t(){return f()(this,t),v()(this,k()(t).apply(this,arguments))}return I()(t,e),y()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?j.a.createElement("div",{className:"card battlegear"},j.a.createElement("img",{className:"thumb",style:{float:"left"},src:B.a.base_image+(t.gsx$thumb||B.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),j.a.createElement("div",{className:"left"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity}),j.a.createElement("br",null),j.a.createElement("span",null,j.a.createElement(L.c,null)," Battlegear",0<t.gsx$types.length?" - "+t.gsx$types:null)),j.a.createElement("div",{className:"right"},j.a.createElement(L.a,{ability:t.gsx$ability}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):j.a.createElement("div",{className:"card battlegear"},j.a.createElement("img",{className:"fullcard",src:B.a.base_image+(t.gsx$image||B.a.card_back)}),j.a.createElement("div",{className:"right"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.a,{ability:t.gsx$ability}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&j.a.createElement(j.a.Fragment,null,j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),j.a.createElement("br",null)),j.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(j.a.Component))||r)||r,U=Object(A.a)(function(e,t,a){return t})(i=Object(A.b)(i=function(e){function t(){return f()(this,t),v()(this,k()(t).apply(this,arguments))}return I()(t,e),y()(t,[{key:"render",value:function(){for(var e=this,r=this.props.card,t=[],a=0;a<r.gsx$mugicability;a++)t.push(j.a.createElement(L.j,{key:a,tribe:r.gsx$tribe}));return 0==this.props.ext?j.a.createElement("div",{className:"card creature"},j.a.createElement("img",{className:"thumb",style:{float:"left"},src:B.a.base_image+(r.gsx$thumb||B.a.thumb_missing),onClick:function(){return e.props.setImage(r.gsx$image)}}),j.a.createElement("div",{className:"left"},j.a.createElement(L.k,{name:r.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.m,{set:r.gsx$set,rarity:r.gsx$rarity}),j.a.createElement("br",null),j.a.createElement(function(){var e=r.gsx$tribe,t=r.gsx$types,a=!1;t.toLowerCase().includes("past")&&(a=!0,t=t.replace(/past /i,""));var n=" "+(a?"Past ":"")+("Generic"==e?"":e+" ")+t;return j.a.createElement("span",null,j.a.createElement(L.o,{tribe:e}),n)},null),j.a.createElement("br",null),j.a.createElement("div",null,j.a.createElement(L.f,{element:"fire",value:0<=r.gsx$elements.toLowerCase().indexOf("fire")})," ",j.a.createElement(L.f,{element:"air",value:0<=r.gsx$elements.toLowerCase().indexOf("air")})," ",j.a.createElement(L.f,{element:"earth",value:0<=r.gsx$elements.toLowerCase().indexOf("earth")})," ",j.a.createElement(L.f,{element:"water",value:0<=r.gsx$elements.toLowerCase().indexOf("water")})),j.a.createElement("span",null,t)),j.a.createElement("br",null),j.a.createElement("div",{className:"right"},j.a.createElement(L.a,{ability:r.gsx$ability,tribe:r.gsx$tribe}),j.a.createElement(L.a,{type:"brainwashed",tribe:r.gsx$tribe,ability:r.gsx$brainwashed}),j.a.createElement(L.q,{data:{unique:r.gsx$unique,loyal:r.gsx$loyal,legendary:r.gsx$legendary,tribe:r.gsx$tribe}}),r.gsx$types.includes("Chieftain")&&j.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",j.a.createElement("br",null)),j.a.createElement("span",{className:"flavortext"},r.gsx$flavortext)),j.a.createElement("br",null),j.a.createElement("div",{className:"stats"},j.a.createElement("div",{className:"energy"},r.gsx$courage,j.a.createElement(L.d,{discipline:"courage"})),j.a.createElement("div",{className:"energy"},r.gsx$power,j.a.createElement(L.d,{discipline:"power"})),j.a.createElement("div",{className:"energy"},r.gsx$wisdom,j.a.createElement(L.d,{discipline:"wisdom"})),j.a.createElement("div",{className:"energy"},r.gsx$speed,j.a.createElement(L.d,{discipline:"speed"})),j.a.createElement("div",{className:"energy",style:{fontWeight:"bold"}},r.gsx$energy))):j.a.createElement("div",{className:"card creature"},j.a.createElement("img",{className:"fullcard",src:B.a.base_image+(r.gsx$image||B.a.card_back)}),j.a.createElement("div",{className:"right"},j.a.createElement(L.k,{name:r.gsx$name}),j.a.createElement("br",null),j.a.createElement("span",null,r.gsx$courage," ",j.a.createElement(L.d,{discipline:"courage"}))," ",j.a.createElement("span",null,r.gsx$power," ",j.a.createElement(L.d,{discipline:"power"}))," ",j.a.createElement("span",null,r.gsx$wisdom," ",j.a.createElement(L.d,{discipline:"wisdom"}))," ",j.a.createElement("span",null,r.gsx$speed," ",j.a.createElement(L.d,{discipline:"speed"}))," ",j.a.createElement("span",{style:{fontWeight:"bold"}},r.gsx$energy),j.a.createElement("br",null),j.a.createElement(L.a,{ability:r.gsx$ability,tribe:r.gsx$tribe}),j.a.createElement(L.a,{type:"brainwashed",tribe:r.gsx$tribe,ability:r.gsx$brainwashed}),j.a.createElement(L.q,{data:{unique:r.gsx$unique,loyal:r.gsx$loyal,legendary:r.gsx$legendary,tribe:r.gsx$tribe}}),r.gsx$types.includes("Chieftain")&&j.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",j.a.createElement("br",null)),r.gsx$flavortext&&j.a.createElement(j.a.Fragment,null,j.a.createElement("span",{className:"flavortext"},r.gsx$flavortext),j.a.createElement("br",null)),j.a.createElement("span",null,"Art By: ",r.gsx$artist)))}}]),t}(j.a.Component))||i)||i,z=Object(A.a)(function(e,t,a){return t})(l=Object(A.b)(l=function(e){function t(){return f()(this,t),v()(this,k()(t).apply(this,arguments))}return I()(t,e),y()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?j.a.createElement("div",{className:"card location"},j.a.createElement("img",{className:"thumb",style:{float:"left",width:"100px",height:"98px"},src:B.a.base_image+(t.gsx$thumb||B.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),j.a.createElement("div",{className:"left"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity}),j.a.createElement("br",null),j.a.createElement("span",null,j.a.createElement(L.i,null)," Location",0<t.gsx$types.length?" - "+t.gsx$types:null),j.a.createElement("br",null),j.a.createElement(L.g,{initiative:t.gsx$initiative})),j.a.createElement("div",{className:"right"},j.a.createElement(L.a,{ability:t.gsx$ability}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):j.a.createElement("div",{className:"card location"},j.a.createElement("img",{className:"fullcard",src:B.a.base_image+(t.gsx$image||B.a.card_back)}),j.a.createElement("div",{className:"right"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.a,{ability:t.gsx$ability}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&j.a.createElement(j.a.Fragment,null,j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),j.a.createElement("br",null)),j.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(j.a.Component))||l)||l,F=Object(A.a)(function(e,t,a){return t})(s=Object(A.b)(s=function(e){function t(){return f()(this,t),v()(this,k()(t).apply(this,arguments))}return I()(t,e),y()(t,[{key:"render",value:function(){var e=this,t=this.props.card,a=[];if(0==t.gsx$cost)a.push(j.a.createElement("span",{className:"bigger",key:0},"0"));else if("x"==t.gsx$cost.toLowerCase())a.push(j.a.createElement("span",{className:"bigger",key:0},"X"));else for(var n=0;n<t.gsx$cost;n++)a.push(j.a.createElement(L.j,{tribe:t.gsx$tribe,key:n}));return 0==this.props.ext?j.a.createElement("div",{className:"card mugic"},j.a.createElement("img",{className:"thumb",style:{float:"left"},src:B.a.base_image+(t.gsx$thumb||B.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),j.a.createElement("div",{className:"left"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity})," ",j.a.createElement("br",null),j.a.createElement(L.o,{size:"icon16",tribe:t.gsx$tribe})," Mugic - ",t.gsx$tribe,j.a.createElement("br",null),j.a.createElement("span",null,a),j.a.createElement("br",null)),j.a.createElement("br",null),j.a.createElement("div",{className:"right"},j.a.createElement(L.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):j.a.createElement("div",{className:"card mugic"},j.a.createElement("img",{className:"fullcard",src:B.a.base_image+(t.gsx$image||B.a.card_back)}),j.a.createElement("div",{className:"right"},j.a.createElement(L.k,{name:t.gsx$name}),j.a.createElement("br",null),j.a.createElement(L.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),j.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&j.a.createElement(j.a.Fragment,null,j.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),j.a.createElement("br",null)),j.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(j.a.Component))||s)||s,D=Object(A.a)(function(e,t,a){return t})(c=Object(A.b)(c=function(e){function t(){return f()(this,t),v()(this,k()(t).apply(this,arguments))}return I()(t,e),y()(t,[{key:"setImage",value:function(e){0==this.props.ext&&this.props.setImage(e)}},{key:"render",value:function(){var a=this,e=this.props.cards;return 1==e.length&&e[0].text?j.a.createElement("div",{style:{textAlign:"left"}},e[0].text):e.map(function(e,t){switch(e.gsx$type){case"Attacks":return j.a.createElement(P,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Battlegear":return j.a.createElement(S,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Creatures":return j.a.createElement(U,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Locations":return j.a.createElement(z,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Mugic":return j.a.createElement(F,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});default:return j.a.createElement("div",{key:t},"Invalid Card Type")}})}}]),t}(j.a.Component))||c)||c,T=a(23),Q=a.n(T),G=a(60),J=a.n(G),W=a(381),V=a.n(W),X=a(382),H=a.n(X),K=a(123),Y=a.n(K);var Z,ee,te,ae,ne,re,ie,le,se,ce,me,ue=Object(A.a)(function(e,t,a){return t})(m=Object(A.b)((u=function(e){function t(e){var s;return f()(this,t),s=v()(this,k()(t).call(this,e)),h()(s,"loaded",o,C()(s)),h()(s,"input",g,C()(s)),s.list=["sets","types","rarity","tribes","elements","mull","gender"],s.cleanInput=function(){var e={name:"",text:"",subtypes:"",flavor:!0,sets:{},types:{attack:!1,battlegear:!1,creature:!1,location:!1,mugic:!1},rarity:{common:!1,uncommon:!1,rare:!1,"super rare":!1,"ultra rare":!1,promo:!1},tribes:{danian:!1,"m'arrillian":!1,mipedian:!1,overworld:!1,underworld:!1,generic:!1},elements:{fire:!1,air:!1,earth:!1,water:!1,none:!1,and:!1},disciplines:{courage:"",power:"",wisdom:"",speed:""},energy:{min:"",max:""},mcbp:{min:"",max:""},mull:{unique:!1,loyal:!1,legendary:!1,mixed:!1},gender:{ambiguous:!1,female:!1,male:!1}};for(var t in B.a.sets)e.sets[t.toLowerCase()]=!1;s.input=e},s.parseQuery=function(){for(var e=s.props.location.search.toLowerCase(),a={},t=("?"===e[0]?e.substr(1):e).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");a[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}if(s.list.forEach(function(t){a[t]&&a[t].split(",").map(function(e){s.input[t][e]=!0})}),a.hasOwnProperty("name")&&(s.input.name=a.name),a.hasOwnProperty("text")&&(s.input.text=a.text),a.hasOwnProperty("subtypes")&&(s.input.subtypes=a.subtypes),a.hasOwnProperty("courage")&&(s.input.disciplines.courage=a.courage),a.hasOwnProperty("power")&&(s.input.disciplines.power=a.power),a.hasOwnProperty("wisdom")&&(s.input.disciplines.wisdom=a.wisdom),a.hasOwnProperty("speed")&&(s.input.disciplines.speed=a.speed),a.hasOwnProperty("energy")){var i=a.energy.split(",");0<=i[0]&&(s.input.energy.min=i[0]),0<=i[1]&&(s.input.energy.max=i[1])}if(a.hasOwnProperty("mcbp")){var l=a.mcbp.split(",");0<=l[0]&&(s.input.mcbp.min=l[0]),0<=l[1]&&(s.input.mcbp.max=l[1])}},s.reset=function(e){e.preventDefault(),e.stopPropagation(),s.cleanInput()},s.handleChange=function(e,t){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t?s.input[t][r]=n:s.input[r]=n},s.search=function(e){e&&(e.preventDefault(),e.stopPropagation(),s.updateQuery());var t=function(t){var e=new Y.a("filter.db").addCollection("filter"),a=e.addDynamicView("filter");a.applySimpleSort("gsx$name");var n,r=B.a.cards.attacks.chain(),i=B.a.cards.battlegear.chain(),l=B.a.cards.creatures.chain(),s=B.a.cards.locations.chain(),c=B.a.cards.mugic.chain();if(r=r.where(function(e){return""!=e.gsx$set}),i=i.where(function(e){return""!=e.gsx$set}),l=l.where(function(e){return""!=e.gsx$set}),s=s.where(function(e){return""!=e.gsx$set}),c=c.where(function(e){return""!=e.gsx$set}),0<t.name.length){var m=t.name.replace(/\\/g,"").replace(/\(|\)/g,function(e){return"\\"+e});r=r.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),i=i.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),l=l.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),s=s.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),c=c.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]})}if(0<t.text.length){var u=t.text.split(",").filter(Boolean).map(function(e){return{$regex:new RegExp(e.trim(),"i")}}),o=t.text.replace(/\\/g,"").replace(/\(|\)/g,function(e){return"\\"+e}),g=(n=[{gsx$tags:{$or:u}},{gsx$ability:{$or:{$regex:new RegExp(o,"i")}}}],t.flavor&&(n.push({gsx$flavortext:{$or:u}}),n.push({gsx$artist:{$or:u}})),n);r=r.find({$or:g}),i=i.find({$or:g}),l=l.find({$or:g.concat([{gsx$brainwashed:{$or:u}}])}),s=s.find({$or:g}),c=c.find({$or:g})}if(0<t.subtypes.length){var p=t.subtypes.split(",").filter(Boolean).map(function(e){return{$regex:new RegExp(e.trim(),"i")}});l=l.find({gsx$types:{$or:p}}),s=s.find({$or:[{gsx$initiative:{$or:p}},{gsx$types:{$or:p}}]}),r=r.limit(0),i=i.find({gsx$types:{$or:p}}),c=c.limit(0)}var d=[];for(var x in t.tribes)t.tribes[x]&&d.push({$regex:new RegExp(x,"i")});if(0<d.length&&(l=l.find({gsx$tribe:{$or:d}}),c=c.find({gsx$tribe:{$or:d}}),r=r.limit(0),i=i.limit(0),s=s.limit(0)),t.elements.none){if(t.elements.and){r=r.where(function(e){return t.elements.fire?""!=e.gsx$fire:""==e.gsx$fire}).where(function(e){return t.elements.air?""!=e.gsx$air:""==e.gsx$air}).where(function(e){return t.elements.earth?""!=e.gsx$earth:""==e.gsx$earth}).where(function(e){return t.elements.water?""!=e.gsx$water:""==e.gsx$water});var h="";["fire","air","earth","water"].forEach(function(e){t.elements[e]&&(h+=e+", ")}),""!==h&&(l=l.find({gsx$elements:{$regex:new RegExp("^"+h.substring(0,h.length-2)+"s*$","i")}}))}else r=r.where(function(e){return""==e.gsx$fire}).where(function(e){return""==e.gsx$air}).where(function(e){return""==e.gsx$earth}).where(function(e){return""==e.gsx$water}),l=l.where(function(e){return""==e.gsx$elements});i=i.limit(0),s=s.limit(0),c=c.limit(0)}else{var b=[],f=[];for(var $ in t.elements)"none"!==$&&"and"!==$&&t.elements[$]&&(b.push({$regex:new RegExp($,"i")}),f.push(H()({},"gsx$"+$,{$gte:0})));0<b.length&&(r=t.elements.and?(l=l.find({gsx$elements:{$and:b}}),r.find({$and:f})):(l=l.find({gsx$elements:{$or:b}}),r.find({$or:f})),i=i.limit(0),s=s.limit(0),c=c.limit(0))}0<t.disciplines.courage&&(l=l.find({gsx$courage:{$gte:t.disciplines.courage}})),0<t.disciplines.power&&(l=l.find({gsx$power:{$gte:t.disciplines.power}})),0<t.disciplines.wisdom&&(l=l.find({gsx$wisdom:{$gte:t.disciplines.wisdom}})),0<t.disciplines.speed&&(l=l.find({gsx$speed:{$gte:t.disciplines.speed}})),0<t.energy.min&&(l=l.find({gsx$energy:{$gte:t.energy.min}})),0<t.energy.max&&t.energy.max>=t.energy.min&&(l=l.find({gsx$energy:{$lte:t.energy.max}})),(0<t.energy.min||0<t.energy.max||0<t.disciplines.courage||0<t.disciplines.power||0<t.disciplines.wisdom||0<t.disciplines.speed)&&(r=r.limit(0),i=i.limit(0),s=s.limit(0),c=c.limit(0)),""!==t.mcbp.min&&0<=t.mcbp.min&&(r=r.find({gsx$bp:{$gte:t.mcbp.min}}),l=l.find({gsx$mugicability:{$gte:t.mcbp.min}}),c=c.find({gsx$cost:{$gte:t.mcbp.min}})),""!==t.mcbp.max&&0<=t.mcbp.max&&t.mcbp.max>=t.mcbp.min&&(r=r.find({gsx$bp:{$lte:t.mcbp.max}}),l=l.find({gsx$mugicability:{$lte:t.mcbp.max}}),c=c.find({gsx$cost:{$lte:t.mcbp.max}})),(0<t.mcbp.max||0<t.mcbp.min)&&(i=i.limit(0),s=s.limit(0)),t.mull.unique&&(r=r.find({gsx$unique:{$gt:0}}),i=i.find({gsx$unique:{$gt:0}}),l=l.find({gsx$unique:{$gt:0}}),s=s.find({gsx$unique:{$gt:0}}),c=c.find({gsx$unique:{$gt:0}})),t.mull.loyal&&(r=r.limit(0),i=i.find({gsx$loyal:{$gt:0}}),l=l.find({gsx$loyal:{$gt:0}}),c=c.limit(0),s=s.limit(0)),t.mull.legendary&&(r=r.find({gsx$legendary:{$gt:0}}),i=i.find({gsx$legendary:{$gt:0}}),l=l.find({gsx$legendary:{$gt:0}}),s=s.find({gsx$legendary:{$gt:0}}),c=c.find({gsx$legendary:{$gt:0}})),t.mull.mixed&&(r=r.limit(0),l=l.find({gsx$loyal:{$lte:0}}),i=i.find({gsx$loyal:{$lte:0}}),c=c.limit(0),s=s.limit(0));var y=[];for(var E in t.sets)t.sets[E]&&y.push({$eq:E.toUpperCase()});0<y.length&&(r=r.find({gsx$set:{$or:y}}),i=i.find({gsx$set:{$or:y}}),l=l.find({gsx$set:{$or:y}}),s=s.find({gsx$set:{$or:y}}),c=c.find({gsx$set:{$or:y}}));var v=[];for(var w in t.rarity)t.rarity[w]&&v.push({$eq:w.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")});0<v.length&&(r=r.find({gsx$rarity:{$or:v}}),i=i.find({gsx$rarity:{$or:v}}),l=l.find({gsx$rarity:{$or:v}}),s=s.find({gsx$rarity:{$or:v}}),c=c.find({gsx$rarity:{$or:v}}));var k=!(t.types.attack|t.types.battlegear|t.types.creature|t.types.location|t.types.mugic);if(k||t.types.attack){var N=r.data();N.forEach(function(e){delete e.$loki}),e.insert(N)}if(k||t.types.battlegear){var C=i.data();C.forEach(function(e){delete e.$loki}),e.insert(C)}if(k||t.types.creature){var q=l.data();q.forEach(function(e){delete e.$loki}),e.insert(q)}if(k||t.types.location){var I=s.data();I.forEach(function(e){delete e.$loki}),e.insert(I)}if(k||t.types.mugic){var O=c.data();O.forEach(function(e){delete e.$loki}),e.insert(O)}return a.data()}(s.input);0<t.length?s.props.handleContent(t):s.props.handleContent([{text:"No Results Found"}])},s.search=s.search.bind(C()(s)),s.handleChange=s.handleChange.bind(C()(s)),s.reset=s.reset.bind(C()(s)),s.props.handleContent([{text:"Loading..."}]),s.cleanInput(),s.parseQuery(),s}var a;return I()(t,e),y()(t,[{key:"updateQuery",value:(a=J()(Q.a.mark(function e(){var t,a,n=this;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="",a=function(t){var a="";return Object.keys(n.input[t]).forEach(function(e){1==n.input[t][e]&&(a+=e+",")}),0<a.length?t+"="+a.replace(/\,$/,"&"):""},this.list.forEach(function(e){return t+=a(e)}),this.input.name&&(t+="name="+encodeURIComponent(this.input.name)+"&"),this.input.text&&(t+="text="+encodeURIComponent(this.input.text)+"&"),this.input.subtypes&&(t+="subtypes="+encodeURIComponent(this.input.subtypes)+"&"),0<this.input.disciplines.courage&&(t+="courage="+this.input.disciplines.courage+"&"),0<this.input.disciplines.power&&(t+="power="+this.input.disciplines.power+"&"),0<this.input.disciplines.wisdom&&(t+="wisdom="+this.input.disciplines.wisdom+"&"),0<this.input.disciplines.speed&&(t+="speed="+this.input.disciplines.speed+"&"),""==this.input.energy.min&&""==this.input.energy.max||(t+="energy=",""!=this.input.energy.min&&0<=this.input.energy.min&&(t+=this.input.energy.min),t+=",",""!=this.input.energy.max&&0<=this.input.energy.max&&(t+=this.input.energy.max),t+="&"),""==this.input.mcbp.min&&""==this.input.mcbp.max||(t+="mcbp=",""!=this.input.mcbp.min&&0<=this.input.mcbp.min&&(t+=this.input.mcbp.min),t+=",",""!=this.input.mcbp.max&&0<=this.input.mcbp.max&&(t+=this.input.mcbp.max),t+="&"),t=t.replace(/\&$/,""),this.props.history.push("/collection/?"+t);case 14:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var l=this;if(0==this.loaded)return B.a.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then(function(){l.loaded=!0,l.search()}),j.a.createElement(L.h,null);function e(a,n,r){var i=[];return Object.keys(l.input[a]).forEach(function(e,t){i.push(j.a.createElement("label",{style:{display:n},key:t},j.a.createElement("input",{type:"checkbox",name:e,checked:l.input[a][e],onChange:function(e){return l.handleChange(e,a)}}),r(e)))}),i}var t=e("sets","block",function(e){return B.a.sets[e.toUpperCase()]}),a=e("types","block",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),n=e("rarity","block",function(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),r=e("tribes","inline",function(e){return j.a.createElement("span",null,j.a.createElement("img",{className:"icon16",src:"/src/img/icons/tribes/"+e+".png"}))}),i=e("elements","inline",function(e){return j.a.createElement("span",null,j.a.createElement("img",{className:"icon20",src:"/src/img/icons/elements/"+e+".png"})," ")}).slice(0,-2),s=[];return Object.keys(this.input.disciplines).forEach(function(e,t){s.push(j.a.createElement("label",{key:t,className:"disciplines"},j.a.createElement("input",{type:"text",name:e,value:l.input.disciplines[e],onChange:function(e){return l.handleChange(e,"disciplines")}})," ",j.a.createElement("img",{className:"icon20",style:{verticalAlign:"bottom"},src:"/src/img/icons/disciplines/"+e+".png"})," "))}),j.a.createElement("div",{className:"SearchForm"},j.a.createElement("form",{onSubmit:this.search},j.a.createElement("div",{className:"centeredButtons"},j.a.createElement("input",{id:"search",type:"submit",value:"Search"}),j.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset})),j.a.createElement("br",null),j.a.createElement("div",{className:"text-entry"},j.a.createElement("input",{type:"text",name:"name",placeholder:"Card Name",value:this.input.name,onChange:this.handleChange})),j.a.createElement("div",{className:"text-entry"},j.a.createElement("input",{type:"text",name:"text",placeholder:"Card Text",value:this.input.text,onChange:this.handleChange})),j.a.createElement("div",{className:"text-entry"},j.a.createElement("input",{type:"text",name:"subtypes",placeholder:"Subtypes | Initiative",value:this.input.subtypes,onChange:this.handleChange})),j.a.createElement("div",{className:"centeredCheckBox"},j.a.createElement("label",{className:"mull"},j.a.createElement("input",{type:"checkbox",name:"flavor",value:!this.input.flavor,onChange:function(e){l.input.flavor=!e.target.checked}}),"Ignore Flavortext & Artist")),j.a.createElement("br",null),j.a.createElement("div",{className:"centeredCheckBox centeredSpacing"},j.a.createElement("label",{className:"mull"},j.a.createElement("input",{type:"checkbox",name:"unique",checked:this.input.mull.unique,onChange:function(e){return l.handleChange(e,"mull")}}),"Unique"),j.a.createElement("label",{className:"mull"},j.a.createElement("input",{type:"checkbox",name:"loyal",checked:this.input.mull.loyal,onChange:function(e){return l.handleChange(e,"mull")}}),"Loyal"),j.a.createElement("label",{className:"mull"},j.a.createElement("input",{type:"checkbox",name:"legendary",checked:this.input.mull.legendary,onChange:function(e){return l.handleChange(e,"mull")}}),"Legendary")),j.a.createElement("div",{className:"centeredCheckBox"},j.a.createElement("label",{className:"mull"},j.a.createElement("input",{type:"checkbox",name:"mixed",checked:this.input.mull.mixed,onChange:function(e){return l.handleChange(e,"mull")}}),"Non-Loyal")),j.a.createElement("hr",null),j.a.createElement("div",{className:"tribes"},r),j.a.createElement("hr",null),j.a.createElement("div",{className:"tribes"},i,j.a.createElement("label",{className:"none"},j.a.createElement("input",{type:"checkbox",name:"none",checked:this.input.elements.none,onChange:function(e){return l.handleChange(e,"elements")}}),j.a.createElement("span",null,"None"))),j.a.createElement("div",{className:"centeredButtons"},j.a.createElement("input",{type:"button",value:this.input.elements.none?"none":"or",className:"and",disabled:!this.input.elements.and,onClick:function(e){l.input.elements.and=!1}}),j.a.createElement("input",{type:"button",value:this.input.elements.none?"only":"and",className:"and",disabled:this.input.elements.and,onClick:function(e){l.input.elements.and=!0}})),j.a.createElement("hr",null),j.a.createElement("div",{className:"disciplines"},s),j.a.createElement(V.a,{open:!0,trigger:"Energy"},j.a.createElement("div",{className:"minMax"},j.a.createElement("label",{className:"mcbp"},"Min ",j.a.createElement("input",{type:"text",name:"min",value:this.input.energy.min,onChange:function(e){return l.handleChange(e,"energy")}})),j.a.createElement("label",{className:"mcbp"},"Max ",j.a.createElement("input",{type:"text",name:"max",value:this.input.energy.max,onChange:function(e){return l.handleChange(e,"energy")}})))),j.a.createElement(V.a,{open:!0,trigger:"Build Points\nMugic Counters/Cost"},j.a.createElement("div",{className:"minMax"},j.a.createElement("label",{className:"mcbp"},"Min ",j.a.createElement("input",{type:"text",name:"min",value:this.input.mcbp.min,onChange:function(e){return l.handleChange(e,"mcbp")}})),j.a.createElement("label",{className:"mcbp"},"Max ",j.a.createElement("input",{type:"text",name:"max",value:this.input.mcbp.max,onChange:function(e){return l.handleChange(e,"mcbp")}})))),j.a.createElement(V.a,{open:!0,trigger:"Types"},j.a.createElement("div",{className:"centeredCheckBox"},a)),j.a.createElement(V.a,{trigger:"Rarity"},j.a.createElement("div",{className:"centeredCheckBox"},n)),j.a.createElement(V.a,{trigger:"Sets"},j.a.createElement("div",{className:"setBox"},j.a.createElement("div",{className:"centeredCheckBox",id:"sets"},t))),j.a.createElement("div",{className:"centeredButtons"},j.a.createElement("input",{id:"search",type:"submit",value:"Search"}),j.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset}))))}}]),t}(j.a.Component),o=_()(u.prototype,"loaded",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=_()(u.prototype,"input",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=u))||m)||m;a(387);a.d(t,"default",function(){return oe});var oe=Object(A.a)(function(e,t,a){return t})(ae=Object(A.b)((ne=function(e){function i(){var e,t;f()(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=v()(this,(e=k()(i)).call.apply(e,[this].concat(n))),h()(t,"loaded",re,C()(t)),h()(t,"n",ie,C()(t)),h()(t,"p",le,C()(t)),h()(t,"ext",se,C()(t)),h()(t,"content",ce,C()(t)),h()(t,"card_img",me,C()(t)),t}return I()(i,e),y()(i,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("extended");null==e&&(this.ext=!1),this.ext=/true/i.test(e)}},{key:"handleContent",value:function(e){this.content=e,this.p=1}},{key:"setImage",value:function(e){this.card_img=e||B.a.card_back,this.changeImage()}},{key:"setExt",value:function(){this.ext=!this.ext,localStorage.setItem("extended",this.ext)}},{key:"render",value:function(){var t=this;return j.a.createElement("div",{className:"collection "+(this.ext?"extended":"short")},j.a.createElement("div",{className:"left"},j.a.createElement(pe,{url:B.a.base_image+this.card_img,ref:function(e){e&&(t.changeImage=e.getInstance().changeImage)}}),j.a.createElement(ue,d()({handleContent:this.handleContent.bind(this)},this.props))),j.a.createElement("div",{className:"right"},j.a.createElement("div",{className:"list-nav-top"},this.navigation(),this.extended()),j.a.createElement("br",null),j.a.createElement(D,{ext:this.ext,cards:this.content.slice(this.n*(this.p-1),this.n*this.p),setImage:this.setImage.bind(this)}),j.a.createElement("br",null),this.navigation()))}},{key:"extended",value:function(){return j.a.createElement("div",{className:"ext-button"},j.a.createElement("button",{id:"buttons",onClick:this.setExt.bind(this)},this.ext?"Short Format":"Extended Format"))}},{key:"navigation",value:function(){var t=this,e=Math.ceil(this.content.length/this.n);return j.a.createElement("div",{className:"entries"},this.content.length," results - page ",this.p," of ",e," ",1<t.p?j.a.createElement("button",{id:"buttons",onClick:function(){t.p--,window.scrollTo(0,0)}},"prev"):j.a.createElement("button",{id:"buttons",disabled:!0},"prev")," ",t.p<e?j.a.createElement("button",{id:"buttons",onClick:function(){t.p++,window.scrollTo(0,0)}},"next"):j.a.createElement("button",{id:"buttons",disabled:!0},"next"),j.a.createElement("br",null),"Entries per page",j.a.createElement("input",{type:"button",value:"5",disabled:"5"==this.n,onClick:function(e){return t.n=e.target.value}})," ",j.a.createElement("input",{type:"button",value:"10",disabled:"10"==this.n,onClick:function(e){return t.n=e.target.value}})," ",j.a.createElement("input",{type:"button",value:"20",disabled:"20"==this.n,onClick:function(e){return t.n=e.target.value}})," ",j.a.createElement("input",{type:"button",value:"50",disabled:"50"==this.n,onClick:function(e){return t.n=e.target.value}}))}}]),i}(j.a.Component),re=_()(ne.prototype,"loaded",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie=_()(ne.prototype,"n",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),le=_()(ne.prototype,"p",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),se=_()(ne.prototype,"ext",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=_()(ne.prototype,"content",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=_()(ne.prototype,"card_img",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.a.card_back}}),ae=ne))||ae)||ae,ge=Object(A.b)((ee=function(e){function i(){var e,t;f()(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=v()(this,(e=k()(i)).call.apply(e,[this].concat(n))),h()(t,"display",te,C()(t)),t.handleClickOutside=function(e){t.display=!1},t.changeImage=function(){t.display=!0},t}return I()(i,e),y()(i,[{key:"render",value:function(){return j.a.createElement("div",{className:"card_img"},j.a.createElement("img",{className:this.display?"":"hidden",src:this.props.url}))}}]),i}(j.a.Component),te=_()(ee.prototype,"display",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=ee))||Z,pe=(0,a(383).default)(ge)}}]);