(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{387:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n,r,i,l,s,c,m,u,o,g,p,d=a(122),h=a.n(d),x=a(64),f=a.n(x),b=a(62),y=a.n(b),$=a(52),E=a.n($),v=a(119),k=a.n(v),w=a(120),C=a.n(w),N=a(165),q=a.n(N),I=a(121),O=a.n(I),_=a(39),R=a.n(_),j=(a(164),a(0)),B=a.n(j),M=a(70),S=a(6),A=a(85),L=a(35),T=Object(A.a)(function(e,t,a){return t})(n=Object(A.b)(n=function(e){function t(){return y()(this,t),k()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?B.a.createElement("div",{className:"card attack"},B.a.createElement("img",{className:"thumb",src:M.a.base_image+(t.gsx$thumb||M.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),B.a.createElement("div",{className:"left"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity}),B.a.createElement("br",null),B.a.createElement("span",null,B.a.createElement(L.b,null)," Attack - ",t.gsx$bp),B.a.createElement("br",null),B.a.createElement("div",null,B.a.createElement("span",{className:"bigger"},t.gsx$base)," | ",B.a.createElement(L.f,{element:"fire",value:t.gsx$fire}),t.gsx$fire," ",B.a.createElement(L.f,{element:"air",value:t.gsx$air}),t.gsx$air," ",B.a.createElement(L.f,{element:"earth",value:t.gsx$earth}),t.gsx$earth," ",B.a.createElement(L.f,{element:"water",value:t.gsx$water}),t.gsx$water)),B.a.createElement("br",null),B.a.createElement("div",{className:"right"},B.a.createElement(L.a,{ability:t.gsx$ability}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):B.a.createElement("div",{className:"card attack"},B.a.createElement("img",{className:"fullcard",src:M.a.base_image+(t.gsx$image||M.a.card_back)}),B.a.createElement("div",{className:"right"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.a,{ability:t.gsx$ability}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),B.a.createElement("br",null)),B.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(B.a.Component))||n)||n,P=Object(A.a)(function(e,t,a){return t})(r=Object(A.b)(r=function(e){function t(){return y()(this,t),k()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?B.a.createElement("div",{className:"card battlegear"},B.a.createElement("img",{className:"thumb",style:{float:"left"},src:M.a.base_image+(t.gsx$thumb||M.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),B.a.createElement("div",{className:"left"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity}),B.a.createElement("br",null),B.a.createElement("span",null,B.a.createElement(L.c,null)," Battlegear",0<t.gsx$types.length?" - "+t.gsx$types:null)),B.a.createElement("div",{className:"right"},B.a.createElement(L.a,{ability:t.gsx$ability}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):B.a.createElement("div",{className:"card battlegear"},B.a.createElement("img",{className:"fullcard",src:M.a.base_image+(t.gsx$image||M.a.card_back)}),B.a.createElement("div",{className:"right"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.a,{ability:t.gsx$ability}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),B.a.createElement("br",null)),B.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(B.a.Component))||r)||r,z=Object(A.a)(function(e,t,a){return t})(i=Object(A.b)(i=function(e){function t(){return y()(this,t),k()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){for(var e=this,r=this.props.card,t=[],a=0;a<r.gsx$mugicability;a++)t.push(B.a.createElement(L.j,{key:a,tribe:r.gsx$tribe}));return 0==this.props.ext?B.a.createElement("div",{className:"card creature"},B.a.createElement("img",{className:"thumb",style:{float:"left"},src:M.a.base_image+(r.gsx$thumb||M.a.thumb_missing),onClick:function(){return e.props.setImage(r.gsx$image)}}),B.a.createElement("div",{className:"left"},B.a.createElement(L.k,{name:r.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.m,{set:r.gsx$set,rarity:r.gsx$rarity}),B.a.createElement("br",null),B.a.createElement(function(){var e=r.gsx$tribe,t=r.gsx$types,a=!1;t.toLowerCase().includes("past")&&(a=!0,t=t.replace(/past /i,""));var n=" "+(a?"Past ":"")+("Generic"==e?"":e+" ")+t;return B.a.createElement("span",null,B.a.createElement(L.o,{tribe:e}),n)},null),B.a.createElement("br",null),B.a.createElement("div",null,B.a.createElement(L.f,{element:"fire",value:0<=r.gsx$elements.toLowerCase().indexOf("fire")})," ",B.a.createElement(L.f,{element:"air",value:0<=r.gsx$elements.toLowerCase().indexOf("air")})," ",B.a.createElement(L.f,{element:"earth",value:0<=r.gsx$elements.toLowerCase().indexOf("earth")})," ",B.a.createElement(L.f,{element:"water",value:0<=r.gsx$elements.toLowerCase().indexOf("water")})),B.a.createElement("span",null,t)),B.a.createElement("br",null),B.a.createElement("div",{className:"right"},B.a.createElement(L.a,{ability:r.gsx$ability,tribe:r.gsx$tribe}),B.a.createElement(L.a,{type:"brainwashed",tribe:r.gsx$tribe,ability:r.gsx$brainwashed}),B.a.createElement(L.q,{data:{unique:r.gsx$unique,loyal:r.gsx$loyal,legendary:r.gsx$legendary,tribe:r.gsx$tribe}}),r.gsx$types.includes("Chieftain")&&B.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",B.a.createElement("br",null)),B.a.createElement("span",{className:"flavortext"},r.gsx$flavortext)),B.a.createElement("br",null),B.a.createElement("div",{className:"stats"},B.a.createElement("div",{className:"energy"},r.gsx$courage,B.a.createElement(L.d,{discipline:"courage"})),B.a.createElement("div",{className:"energy"},r.gsx$power,B.a.createElement(L.d,{discipline:"power"})),B.a.createElement("div",{className:"energy"},r.gsx$wisdom,B.a.createElement(L.d,{discipline:"wisdom"})),B.a.createElement("div",{className:"energy"},r.gsx$speed,B.a.createElement(L.d,{discipline:"speed"})),B.a.createElement("div",{className:"energy",style:{fontWeight:"bold"}},r.gsx$energy))):B.a.createElement("div",{className:"card creature"},B.a.createElement("img",{className:"fullcard",src:M.a.base_image+(r.gsx$image||M.a.card_back)}),B.a.createElement("div",{className:"right"},B.a.createElement(L.k,{name:r.gsx$name}),B.a.createElement("br",null),B.a.createElement("span",null,r.gsx$courage," ",B.a.createElement(L.d,{discipline:"courage"}))," ",B.a.createElement("span",null,r.gsx$power," ",B.a.createElement(L.d,{discipline:"power"}))," ",B.a.createElement("span",null,r.gsx$wisdom," ",B.a.createElement(L.d,{discipline:"wisdom"}))," ",B.a.createElement("span",null,r.gsx$speed," ",B.a.createElement(L.d,{discipline:"speed"}))," ",B.a.createElement("span",{style:{fontWeight:"bold"}},r.gsx$energy),B.a.createElement("br",null),B.a.createElement(L.a,{ability:r.gsx$ability,tribe:r.gsx$tribe}),B.a.createElement(L.a,{type:"brainwashed",tribe:r.gsx$tribe,ability:r.gsx$brainwashed}),B.a.createElement(L.q,{data:{unique:r.gsx$unique,loyal:r.gsx$loyal,legendary:r.gsx$legendary,tribe:r.gsx$tribe}}),r.gsx$types.includes("Chieftain")&&B.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",B.a.createElement("br",null)),r.gsx$flavortext&&B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{className:"flavortext"},r.gsx$flavortext),B.a.createElement("br",null)),B.a.createElement("span",null,"Art By: ",r.gsx$artist)))}}]),t}(B.a.Component))||i)||i,U=Object(A.a)(function(e,t,a){return t})(l=Object(A.b)(l=function(e){function t(){return y()(this,t),k()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?B.a.createElement("div",{className:"card location"},B.a.createElement("img",{className:"thumb",style:{float:"left",width:"100px",height:"98px"},src:M.a.base_image+(t.gsx$thumb||M.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),B.a.createElement("div",{className:"left"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity}),B.a.createElement("br",null),B.a.createElement("span",null,B.a.createElement(L.i,null)," Location",0<t.gsx$types.length?" - "+t.gsx$types:null),B.a.createElement("br",null),B.a.createElement(L.g,{initiative:t.gsx$initiative})),B.a.createElement("div",{className:"right"},B.a.createElement(L.a,{ability:t.gsx$ability}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):B.a.createElement("div",{className:"card location"},B.a.createElement("img",{className:"fullcard",src:M.a.base_image+(t.gsx$image||M.a.card_back)}),B.a.createElement("div",{className:"right"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.a,{ability:t.gsx$ability}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),B.a.createElement("br",null)),B.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(B.a.Component))||l)||l,F=Object(A.a)(function(e,t,a){return t})(s=Object(A.b)(s=function(e){function t(){return y()(this,t),k()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card,a=[];if(0==t.gsx$cost)a.push(B.a.createElement("span",{className:"bigger",key:0},"0"));else if("x"==t.gsx$cost.toLowerCase())a.push(B.a.createElement("span",{className:"bigger",key:0},"X"));else for(var n=0;n<t.gsx$cost;n++)a.push(B.a.createElement(L.j,{tribe:t.gsx$tribe,key:n}));return 0==this.props.ext?B.a.createElement("div",{className:"card mugic"},B.a.createElement("img",{className:"thumb",style:{float:"left"},src:M.a.base_image+(t.gsx$thumb||M.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),B.a.createElement("div",{className:"left"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.m,{set:t.gsx$set,rarity:t.gsx$rarity})," ",B.a.createElement("br",null),B.a.createElement(L.o,{size:"icon16",tribe:t.gsx$tribe})," Mugic - ",t.gsx$tribe,B.a.createElement("br",null),B.a.createElement("span",null,a),B.a.createElement("br",null)),B.a.createElement("br",null),B.a.createElement("div",{className:"right"},B.a.createElement(L.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):B.a.createElement("div",{className:"card mugic"},B.a.createElement("img",{className:"fullcard",src:M.a.base_image+(t.gsx$image||M.a.card_back)}),B.a.createElement("div",{className:"right"},B.a.createElement(L.k,{name:t.gsx$name}),B.a.createElement("br",null),B.a.createElement(L.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),B.a.createElement(L.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&B.a.createElement(B.a.Fragment,null,B.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),B.a.createElement("br",null)),B.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(B.a.Component))||s)||s,D=Object(A.a)(function(e,t,a){return t})(c=Object(A.b)(c=function(e){function t(){return y()(this,t),k()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"setImage",value:function(e){0==this.props.ext&&this.props.setImage(e)}},{key:"render",value:function(){var a=this,e=this.props.cards;return 1==e.length&&e[0].text?B.a.createElement("div",{style:{textAlign:"left"}},e[0].text):e.map(function(e,t){switch(e.gsx$type){case"Attacks":return B.a.createElement(T,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Battlegear":return B.a.createElement(P,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Creatures":return B.a.createElement(z,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Locations":return B.a.createElement(U,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Mugic":return B.a.createElement(F,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});default:return B.a.createElement("div",{key:t},"Invalid Card Type")}})}}]),t}(B.a.Component))||c)||c,J=a(23),Q=a.n(J),G=a(60),W=a.n(G),V=a(381),X=a.n(V),H=a(382),K=a.n(H),Y=a(123),Z=a.n(Y);var ee,te,ae,ne,re,ie,le,se,ce,me,ue,oe=Object(A.a)(function(e,t,a){return t})(m=Object(A.b)((u=function(e){function t(e){var s;return y()(this,t),s=k()(this,C()(t).call(this,e)),f()(s,"loaded",o,q()(s)),f()(s,"input",g,q()(s)),f()(s,"collapsed",p,q()(s)),s.list=["sets","types","rarity","tribes","elements","mull","gender"],s.fetchCollapsed=function(){var e=localStorage.getItem("collapsed");e=e?JSON.parse(e):{disciplines:!0,energy:!0,bpmc:!0,types:!0,rarity:!1,sets:!1},s.collapsed=e},s.handleTriggerClick=function(e){var t=s.collapsed;t[e]=!s.collapsed[e],localStorage.setItem("collapsed",JSON.stringify(t))},s.cleanInput=function(){var e={name:"",text:"",subtypes:"",flavor:!0,sets:{},types:{attack:!1,battlegear:!1,creature:!1,location:!1,mugic:!1},rarity:{common:!1,uncommon:!1,rare:!1,"super rare":!1,"ultra rare":!1,promo:!1},tribes:{danian:!1,"m'arrillian":!1,mipedian:!1,overworld:!1,underworld:!1,generic:!1},elements:{fire:!1,air:!1,earth:!1,water:!1,none:!1,and:!1},disciplines:{courage:"",power:"",wisdom:"",speed:""},energy:{min:"",max:""},mcbp:{min:"",max:""},mull:{unique:!1,loyal:!1,legendary:!1,mixed:!1},gender:{ambiguous:!1,female:!1,male:!1}};for(var t in M.a.sets)e.sets[t.toLowerCase()]=!1;s.input=e},s.parseQuery=function(){for(var e=s.props.location.search.toLowerCase(),a={},t=("?"===e[0]?e.substr(1):e).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");a[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}if(s.list.forEach(function(t){a[t]&&a[t].split(",").map(function(e){s.input[t][e]=!0})}),a.hasOwnProperty("name")&&(s.input.name=a.name),a.hasOwnProperty("text")&&(s.input.text=a.text),a.hasOwnProperty("subtypes")&&(s.input.subtypes=a.subtypes),a.hasOwnProperty("courage")&&(s.input.disciplines.courage=a.courage),a.hasOwnProperty("power")&&(s.input.disciplines.power=a.power),a.hasOwnProperty("wisdom")&&(s.input.disciplines.wisdom=a.wisdom),a.hasOwnProperty("speed")&&(s.input.disciplines.speed=a.speed),a.hasOwnProperty("energy")){var i=a.energy.split(",");0<=i[0]&&(s.input.energy.min=i[0]),0<=i[1]&&(s.input.energy.max=i[1])}if(a.hasOwnProperty("mcbp")){var l=a.mcbp.split(",");0<=l[0]&&(s.input.mcbp.min=l[0]),0<=l[1]&&(s.input.mcbp.max=l[1])}},s.reset=function(e){e.preventDefault(),e.stopPropagation(),s.cleanInput()},s.handleChange=function(e,t){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t?s.input[t][r]=n:s.input[r]=n},s.search=function(e){e&&(e.preventDefault(),e.stopPropagation(),s.updateQuery());var t=function(t){var e=new Z.a("filter.db").addCollection("filter"),a=e.addDynamicView("filter");a.applySimpleSort("gsx$name");var n,r=M.a.cards.attacks.chain(),i=M.a.cards.battlegear.chain(),l=M.a.cards.creatures.chain(),s=M.a.cards.locations.chain(),c=M.a.cards.mugic.chain();if(r=r.where(function(e){return""!=e.gsx$set}),i=i.where(function(e){return""!=e.gsx$set}),l=l.where(function(e){return""!=e.gsx$set}),s=s.where(function(e){return""!=e.gsx$set}),c=c.where(function(e){return""!=e.gsx$set}),0<t.name.length){var m=t.name.replace(/\\/g,"").replace(/\(|\)/g,function(e){return"\\"+e});r=r.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),i=i.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),l=l.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),s=s.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]}),c=c.find({$or:[{gsx$name:{$regex:new RegExp(m,"i")}},{gsx$tags:{$regex:new RegExp(m,"i")}}]})}if(0<t.text.length){var u=t.text.split(",").filter(Boolean).map(function(e){return{$regex:new RegExp(e.trim(),"i")}}),o=new RegExp(t.text.replace(/\\/g,"").replace(/\(|\)/g,function(e){return"\\"+e}),"i");console.log(o);var g=(n=[{gsx$tags:{$or:u}},{gsx$ability:{$regex:o}}],t.flavor&&(n.push({gsx$flavortext:{$or:u}}),n.push({gsx$artist:{$or:u}})),console.log(n),n);r=r.find({$or:g}),i=i.find({$or:g}),l=l.find({$or:g.concat([{gsx$brainwashed:{$regex:o}}])}),s=s.find({$or:g}),c=c.find({$or:g})}if(0<t.subtypes.length){var p=t.subtypes.split(",").filter(Boolean).map(function(e){return{$regex:new RegExp(e.trim(),"i")}});l=l.find({gsx$types:{$or:p}}),s=s.find({$or:[{gsx$initiative:{$or:p}},{gsx$types:{$or:p}}]}),r=r.limit(0),i=i.find({gsx$types:{$or:p}}),c=c.limit(0)}var d=[];for(var h in t.tribes)t.tribes[h]&&d.push({$regex:new RegExp(h,"i")});if(0<d.length&&(l=l.find({gsx$tribe:{$or:d}}),c=c.find({gsx$tribe:{$or:d}}),r=r.limit(0),i=i.limit(0),s=s.limit(0)),t.elements.none){if(t.elements.and){r=r.where(function(e){return t.elements.fire?""!=e.gsx$fire:""==e.gsx$fire}).where(function(e){return t.elements.air?""!=e.gsx$air:""==e.gsx$air}).where(function(e){return t.elements.earth?""!=e.gsx$earth:""==e.gsx$earth}).where(function(e){return t.elements.water?""!=e.gsx$water:""==e.gsx$water});var x="";["fire","air","earth","water"].forEach(function(e){t.elements[e]&&(x+=e+", ")}),""!==x&&(l=l.find({gsx$elements:{$regex:new RegExp("^"+x.substring(0,x.length-2)+"s*$","i")}}))}else r=r.where(function(e){return""==e.gsx$fire}).where(function(e){return""==e.gsx$air}).where(function(e){return""==e.gsx$earth}).where(function(e){return""==e.gsx$water}),l=l.where(function(e){return""==e.gsx$elements});i=i.limit(0),s=s.limit(0),c=c.limit(0)}else{var f=[],b=[];for(var y in t.elements)"none"!==y&&"and"!==y&&t.elements[y]&&(f.push({$regex:new RegExp(y,"i")}),b.push(K()({},"gsx$"+y,{$gte:0})));0<f.length&&(r=t.elements.and?(l=l.find({gsx$elements:{$and:f}}),r.find({$and:b})):(l=l.find({gsx$elements:{$or:f}}),r.find({$or:b})),i=i.limit(0),s=s.limit(0),c=c.limit(0))}0<t.disciplines.courage&&(l=l.find({gsx$courage:{$gte:t.disciplines.courage}})),0<t.disciplines.power&&(l=l.find({gsx$power:{$gte:t.disciplines.power}})),0<t.disciplines.wisdom&&(l=l.find({gsx$wisdom:{$gte:t.disciplines.wisdom}})),0<t.disciplines.speed&&(l=l.find({gsx$speed:{$gte:t.disciplines.speed}})),0<t.energy.min&&(l=l.find({gsx$energy:{$gte:t.energy.min}})),0<t.energy.max&&t.energy.max>=t.energy.min&&(l=l.find({gsx$energy:{$lte:t.energy.max}})),(0<t.energy.min||0<t.energy.max||0<t.disciplines.courage||0<t.disciplines.power||0<t.disciplines.wisdom||0<t.disciplines.speed)&&(r=r.limit(0),i=i.limit(0),s=s.limit(0),c=c.limit(0)),""!==t.mcbp.min&&0<=t.mcbp.min&&(r=r.find({gsx$bp:{$gte:t.mcbp.min}}),l=l.find({gsx$mugicability:{$gte:t.mcbp.min}}),c=c.find({gsx$cost:{$gte:t.mcbp.min}})),""!==t.mcbp.max&&0<=t.mcbp.max&&t.mcbp.max>=t.mcbp.min&&(r=r.find({gsx$bp:{$lte:t.mcbp.max}}),l=l.find({gsx$mugicability:{$lte:t.mcbp.max}}),c=c.find({gsx$cost:{$lte:t.mcbp.max}})),(0<t.mcbp.max||0<t.mcbp.min)&&(i=i.limit(0),s=s.limit(0)),t.mull.unique&&(r=r.find({gsx$unique:{$gt:0}}),i=i.find({gsx$unique:{$gt:0}}),l=l.find({gsx$unique:{$gt:0}}),s=s.find({gsx$unique:{$gt:0}}),c=c.find({gsx$unique:{$gt:0}})),t.mull.loyal&&(r=r.limit(0),i=i.find({gsx$loyal:{$gt:0}}),l=l.find({gsx$loyal:{$gt:0}}),c=c.limit(0),s=s.limit(0)),t.mull.legendary&&(r=r.find({gsx$legendary:{$gt:0}}),i=i.find({gsx$legendary:{$gt:0}}),l=l.find({gsx$legendary:{$gt:0}}),s=s.find({gsx$legendary:{$gt:0}}),c=c.find({gsx$legendary:{$gt:0}})),t.mull.mixed&&(r=r.limit(0),l=l.find({gsx$loyal:{$lte:0}}),i=i.find({gsx$loyal:{$lte:0}}),c=c.limit(0),s=s.limit(0));var $=[];for(var E in t.sets)t.sets[E]&&$.push({$eq:E.toUpperCase()});0<$.length&&(r=r.find({gsx$set:{$or:$}}),i=i.find({gsx$set:{$or:$}}),l=l.find({gsx$set:{$or:$}}),s=s.find({gsx$set:{$or:$}}),c=c.find({gsx$set:{$or:$}}));var v=[];for(var k in t.rarity)t.rarity[k]&&v.push({$eq:k.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")});0<v.length&&(r=r.find({gsx$rarity:{$or:v}}),i=i.find({gsx$rarity:{$or:v}}),l=l.find({gsx$rarity:{$or:v}}),s=s.find({gsx$rarity:{$or:v}}),c=c.find({gsx$rarity:{$or:v}}));var w=!(t.types.attack|t.types.battlegear|t.types.creature|t.types.location|t.types.mugic);if(w||t.types.attack){var C=r.data();C.forEach(function(e){delete e.$loki}),e.insert(C)}if(w||t.types.battlegear){var N=i.data();N.forEach(function(e){delete e.$loki}),e.insert(N)}if(w||t.types.creature){var q=l.data();q.forEach(function(e){delete e.$loki}),e.insert(q)}if(w||t.types.location){var I=s.data();I.forEach(function(e){delete e.$loki}),e.insert(I)}if(w||t.types.mugic){var O=c.data();O.forEach(function(e){delete e.$loki}),e.insert(O)}return a.data()}(s.input);0<t.length?s.props.handleContent(t):s.props.handleContent([{text:"No Results Found"}])},s.search=s.search.bind(q()(s)),s.handleChange=s.handleChange.bind(q()(s)),s.reset=s.reset.bind(q()(s)),s.handleTriggerClick=s.handleTriggerClick.bind(q()(s)),s.props.handleContent([{text:"Loading..."}]),s.cleanInput(),s.parseQuery(),s.fetchCollapsed(),s}var a;return O()(t,e),E()(t,[{key:"updateQuery",value:(a=W()(Q.a.mark(function e(){var t,a,n=this;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="",a=function(t){var a="";return Object.keys(n.input[t]).forEach(function(e){1==n.input[t][e]&&(a+=e+",")}),0<a.length?t+"="+a.replace(/\,$/,"&"):""},this.list.forEach(function(e){return t+=a(e)}),this.input.name&&(t+="name="+encodeURIComponent(this.input.name)+"&"),this.input.text&&(t+="text="+encodeURIComponent(this.input.text)+"&"),this.input.subtypes&&(t+="subtypes="+encodeURIComponent(this.input.subtypes)+"&"),0<this.input.disciplines.courage&&(t+="courage="+this.input.disciplines.courage+"&"),0<this.input.disciplines.power&&(t+="power="+this.input.disciplines.power+"&"),0<this.input.disciplines.wisdom&&(t+="wisdom="+this.input.disciplines.wisdom+"&"),0<this.input.disciplines.speed&&(t+="speed="+this.input.disciplines.speed+"&"),""==this.input.energy.min&&""==this.input.energy.max||(t+="energy=",""!=this.input.energy.min&&0<=this.input.energy.min&&(t+=this.input.energy.min),t+=",",""!=this.input.energy.max&&0<=this.input.energy.max&&(t+=this.input.energy.max),t+="&"),""==this.input.mcbp.min&&""==this.input.mcbp.max||(t+="mcbp=",""!=this.input.mcbp.min&&0<=this.input.mcbp.min&&(t+=this.input.mcbp.min),t+=",",""!=this.input.mcbp.max&&0<=this.input.mcbp.max&&(t+=this.input.mcbp.max),t+="&"),t=t.replace(/\&$/,""),this.props.history.push("/collection/?"+t);case 14:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var l=this;if(0==this.loaded)return M.a.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then(function(){l.loaded=!0,l.search()}),B.a.createElement(L.h,null);function e(a,n,r){var i=[];return Object.keys(l.input[a]).forEach(function(e,t){i.push(B.a.createElement("label",{style:{display:n},key:t},B.a.createElement("input",{type:"checkbox",name:e,checked:l.input[a][e],onChange:function(e){return l.handleChange(e,a)}}),r(e)))}),i}var t=e("sets","block",function(e){return M.a.sets[e.toUpperCase()]}),a=e("types","block",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),n=e("rarity","block",function(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),r=e("tribes","inline",function(e){return B.a.createElement("span",null,B.a.createElement("img",{className:"icon16",src:"/src/img/icons/tribes/"+e+".png"}))}),i=e("elements","inline",function(e){return B.a.createElement("span",null,B.a.createElement("img",{className:"icon20",src:"/src/img/icons/elements/"+e+".png"})," ")}).slice(0,-2),s=[];return Object.keys(this.input.disciplines).forEach(function(e,t){s.push(B.a.createElement("label",{key:t,className:"disciplines"},B.a.createElement("input",{type:"text",name:e,value:l.input.disciplines[e],onChange:function(e){return l.handleChange(e,"disciplines")}})," ",B.a.createElement("img",{className:"icon20",style:{verticalAlign:"bottom"},src:"/src/img/icons/disciplines/"+e+".png"})," "))}),B.a.createElement("div",{className:"SearchForm"},B.a.createElement("form",{onSubmit:this.search},B.a.createElement("div",{className:"centeredButtons"},B.a.createElement("input",{id:"search",type:"submit",value:"Search"}),B.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset})),B.a.createElement("br",null),B.a.createElement("div",{className:"text-entry"},B.a.createElement("input",{type:"text",name:"name",placeholder:"Card Name",value:this.input.name,onChange:this.handleChange})),B.a.createElement("div",{className:"text-entry"},B.a.createElement("input",{type:"text",name:"text",placeholder:"Card Text",value:this.input.text,onChange:this.handleChange})),B.a.createElement("div",{className:"text-entry"},B.a.createElement("input",{type:"text",name:"subtypes",placeholder:"Subtypes | Initiative",value:this.input.subtypes,onChange:this.handleChange})),B.a.createElement("div",{className:"centeredCheckBox"},B.a.createElement("label",{className:"mull"},B.a.createElement("input",{type:"checkbox",name:"flavor",value:!this.input.flavor,onChange:function(e){l.input.flavor=!e.target.checked}}),"Ignore Flavortext & Artist")),B.a.createElement("br",null),B.a.createElement("div",{className:"centeredCheckBox centeredSpacing"},B.a.createElement("label",{className:"mull"},B.a.createElement("input",{type:"checkbox",name:"unique",checked:this.input.mull.unique,onChange:function(e){return l.handleChange(e,"mull")}}),"Unique"),B.a.createElement("label",{className:"mull"},B.a.createElement("input",{type:"checkbox",name:"loyal",checked:this.input.mull.loyal,onChange:function(e){return l.handleChange(e,"mull")}}),"Loyal"),B.a.createElement("label",{className:"mull"},B.a.createElement("input",{type:"checkbox",name:"legendary",checked:this.input.mull.legendary,onChange:function(e){return l.handleChange(e,"mull")}}),"Legendary")),B.a.createElement("div",{className:"centeredCheckBox"},B.a.createElement("label",{className:"mull"},B.a.createElement("input",{type:"checkbox",name:"mixed",checked:this.input.mull.mixed,onChange:function(e){return l.handleChange(e,"mull")}}),"Non-Loyal")),B.a.createElement("hr",null),B.a.createElement("div",{className:"tribes"},r),B.a.createElement("hr",null),B.a.createElement("div",{className:"tribes"},i,B.a.createElement("label",{className:"none"},B.a.createElement("input",{type:"checkbox",name:"none",checked:this.input.elements.none,onChange:function(e){return l.handleChange(e,"elements")}}),B.a.createElement("span",null,"None"))),B.a.createElement("div",{className:"centeredButtons"},B.a.createElement("input",{type:"button",value:this.input.elements.none?"none":"or",className:"and",disabled:!this.input.elements.and,onClick:function(e){l.input.elements.and=!1}}),B.a.createElement("input",{type:"button",value:this.input.elements.none?"only":"and",className:"and",disabled:this.input.elements.and,onClick:function(e){l.input.elements.and=!0}})),B.a.createElement("hr",null),B.a.createElement(ge,{type:"disciplines",title:"Disciplines",collapsed:this.collapsed,onClick:this.handleTriggerClick},B.a.createElement("div",{className:"disciplines"},s)),B.a.createElement(ge,{type:"energy",title:"Energy",collapsed:this.collapsed,onClick:this.handleTriggerClick},B.a.createElement("div",{className:"minMax"},B.a.createElement("label",{className:"mcbp"},"Min ",B.a.createElement("input",{type:"text",name:"min",value:this.input.energy.min,onChange:function(e){return l.handleChange(e,"energy")}})),B.a.createElement("label",{className:"mcbp"},"Max ",B.a.createElement("input",{type:"text",name:"max",value:this.input.energy.max,onChange:function(e){return l.handleChange(e,"energy")}})))),B.a.createElement(ge,{type:"bpmc",title:"Build Points\nMugic Counters/Cost",collapsed:this.collapsed,onClick:this.handleTriggerClick},B.a.createElement("div",{className:"minMax"},B.a.createElement("label",{className:"mcbp"},"Min ",B.a.createElement("input",{type:"text",name:"min",value:this.input.mcbp.min,onChange:function(e){return l.handleChange(e,"mcbp")}})),B.a.createElement("label",{className:"mcbp"},"Max ",B.a.createElement("input",{type:"text",name:"max",value:this.input.mcbp.max,onChange:function(e){return l.handleChange(e,"mcbp")}})))),B.a.createElement(ge,{type:"types",title:"Card Type",collapsed:this.collapsed,onClick:this.handleTriggerClick},B.a.createElement("div",{className:"centeredCheckBox"},a)),B.a.createElement(ge,{type:"rarity",title:"Rarity",collapsed:this.collapsed,onClick:this.handleTriggerClick},B.a.createElement("div",{className:"centeredCheckBox"},n)),B.a.createElement(ge,{type:"sets",title:"Sets",collapsed:this.collapsed,onClick:this.handleTriggerClick},B.a.createElement("div",{className:"setBox"},B.a.createElement("div",{className:"centeredCheckBox",id:"sets"},t))),B.a.createElement("div",{className:"centeredButtons"},B.a.createElement("input",{id:"search",type:"submit",value:"Search"}),B.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset}))))}}]),t}(B.a.Component),o=R()(u.prototype,"loaded",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=R()(u.prototype,"input",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=R()(u.prototype,"collapsed",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=u))||m)||m,ge=function(e){function r(e){var t;y()(this,r),(t=k()(this,C()(r).call(this,e))).open=!1,t.trigger="";var a=e.collapsed,n=e.type;return t.open=a[n],t.trigger=e.title,t}return O()(r,e),E()(r,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.children,n=e.onClick;return B.a.createElement(X.a,{trigger:this.trigger,open:this.open,onOpen:function(){return n(t)},onClose:function(){return n(t)}},a)}}]),r}(B.a.Component);a(387);a.d(t,"default",function(){return pe});var pe=Object(A.a)(function(e,t,a){return t})(ne=Object(A.b)((re=function(e){function i(){var e,t;y()(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=k()(this,(e=C()(i)).call.apply(e,[this].concat(n))),f()(t,"loaded",ie,q()(t)),f()(t,"n",le,q()(t)),f()(t,"p",se,q()(t)),f()(t,"ext",ce,q()(t)),f()(t,"content",me,q()(t)),f()(t,"card_img",ue,q()(t)),t}return O()(i,e),E()(i,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("extended");null==e&&(this.ext=!1),this.ext=/true/i.test(e)}},{key:"handleContent",value:function(e){this.content=e,this.p=1}},{key:"setImage",value:function(e){this.card_img=e||M.a.card_back,this.changeImage()}},{key:"setExt",value:function(){this.ext=!this.ext,localStorage.setItem("extended",this.ext)}},{key:"render",value:function(){var t=this;return B.a.createElement("div",{className:"collection "+(this.ext?"extended":"short")},B.a.createElement("div",{className:"left"},B.a.createElement(he,{url:M.a.base_image+this.card_img,ref:function(e){e&&(t.changeImage=e.getInstance().changeImage)}}),B.a.createElement(oe,h()({handleContent:this.handleContent.bind(this)},this.props))),B.a.createElement("div",{className:"right"},B.a.createElement("div",{className:"list-nav-top"},this.navigation(),this.extended()),B.a.createElement("br",null),B.a.createElement(D,{ext:this.ext,cards:this.content.slice(this.n*(this.p-1),this.n*this.p),setImage:this.setImage.bind(this)}),B.a.createElement("br",null),this.navigation()))}},{key:"extended",value:function(){return B.a.createElement("div",{className:"ext-button"},B.a.createElement("button",{id:"buttons",onClick:this.setExt.bind(this)},this.ext?"Short Format":"Extended Format"))}},{key:"navigation",value:function(){var t=this,e=Math.ceil(this.content.length/this.n);return B.a.createElement("div",{className:"entries"},this.content.length," results - page ",this.p," of ",e," ",1<t.p?B.a.createElement("button",{id:"buttons",onClick:function(){t.p--,window.scrollTo(0,0)}},"prev"):B.a.createElement("button",{id:"buttons",disabled:!0},"prev")," ",t.p<e?B.a.createElement("button",{id:"buttons",onClick:function(){t.p++,window.scrollTo(0,0)}},"next"):B.a.createElement("button",{id:"buttons",disabled:!0},"next"),B.a.createElement("br",null),"Entries per page",B.a.createElement("input",{type:"button",value:"5",disabled:"5"==this.n,onClick:function(e){return t.n=e.target.value}})," ",B.a.createElement("input",{type:"button",value:"10",disabled:"10"==this.n,onClick:function(e){return t.n=e.target.value}})," ",B.a.createElement("input",{type:"button",value:"20",disabled:"20"==this.n,onClick:function(e){return t.n=e.target.value}})," ",B.a.createElement("input",{type:"button",value:"50",disabled:"50"==this.n,onClick:function(e){return t.n=e.target.value}}))}}]),i}(B.a.Component),ie=R()(re.prototype,"loaded",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=R()(re.prototype,"n",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),se=R()(re.prototype,"p",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ce=R()(re.prototype,"ext",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=R()(re.prototype,"content",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=R()(re.prototype,"card_img",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.card_back}}),ne=re))||ne)||ne,de=Object(A.b)((te=function(e){function i(){var e,t;y()(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=k()(this,(e=C()(i)).call.apply(e,[this].concat(n))),f()(t,"display",ae,q()(t)),t.handleClickOutside=function(e){t.display=!1},t.changeImage=function(){t.display=!0},t}return O()(i,e),E()(i,[{key:"render",value:function(){return B.a.createElement("div",{className:"card_img"},B.a.createElement("img",{className:this.display?"":"hidden",src:this.props.url}))}}]),i}(B.a.Component),ae=R()(te.prototype,"display",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=te))||ee,he=(0,a(383).default)(de)}}]);