(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{392:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n,r,l,i,c=a(62),s=a.n(c),o=a(53),u=a.n(o),m=a(119),p=a.n(m),d=a(120),h=a.n(d),f=a(121),g=a.n(f),b=a(0),y=a.n(b),E=a(84),k=a(37),v=a(122),x=a.n(v),$=a(64),w=a.n($),C=a(167),S=a.n(C),O=a(38),M=a.n(O),P=(a(166),a(6)),j=a(54),R=a(387),N=a.n(R),D=a(388),_=a.n(D),z=a(70),I=a(34),U=a(124),V=(a(392),Object.create(U.a));V.input={width:"1.2em",height:"1.4em",font:"inherit",textAlign:"center",margin:"0.05em",backgroundColor:"rgba(0,0,0,0)",color:"white"},V.inputGroup={alignItems:"center"},V.hyphen={background:"white",height:"0.1em",width:".5em",display:"inline-block"};var A,B,F,T,G,J,K,q=Object(E.a)((function(e,t,a){return t}))(n=Object(E.b)((r=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),w()(a,"code",l,S()(a)),a.message=Object(P.k)({contents:null},{contents:P.k.ref}),w()(a,"fan",i,S()(a)),a}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this;if(!this.fan)return z.a.getSpreadsheet(z.a.path("1hzSojB76Me-P1qppxYR0oiHSU56jyK59x3DKm660ntc"),(function(t){e.fan=t})),y.a.createElement(I.h,null);return y.a.createElement("div",null,y.a.createElement(N.a,x()({as:j.b},V.link,{to:"/EnterTheCode/PackSimulator/"}),"Pack Simulator"),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement(_.a,{acceptedCharacters:/^[0-9a-z]$/i,length:12,value:this.code,onChange:function(t){return e.code=t}},(function(e){return y.a.createElement("div",{style:V.inputGroup},y.a.createElement("input",x()({type:"text",style:V.input},e[0])),y.a.createElement("input",x()({type:"text",style:V.input},e[1])),y.a.createElement("input",x()({type:"text",style:V.input},e[2])),y.a.createElement("input",x()({type:"text",style:V.input},e[3])),y.a.createElement("span",{style:V.hyphen}),y.a.createElement("input",x()({type:"text",style:V.input},e[4])),y.a.createElement("input",x()({type:"text",style:V.input},e[5])),y.a.createElement("input",x()({type:"text",style:V.input},e[6])),y.a.createElement("input",x()({type:"text",style:V.input},e[7])),y.a.createElement("span",{style:V.hyphen}),y.a.createElement("input",x()({type:"text",style:V.input},e[8])),y.a.createElement("input",x()({type:"text",style:V.input},e[9])),y.a.createElement("input",x()({type:"text",style:V.input},e[10])),y.a.createElement("input",x()({type:"text",style:V.input},e[11])))})),y.a.createElement("br",null),y.a.createElement("button",{onClick:function(t){if(t.preventDefault(),t.stopPropagation(),e.code.length<12||-1!=e.code.indexOf(" "))e.message.contents=y.a.createElement("p",{style:{color:"red"}},"Please enter a 12 digit code");else{var a=e.fan[(r=0,l=e.fan.length,r=Math.ceil(r),l=Math.floor(l),Math.floor(Math.random()*(l-r))+r)],n=/.*.png|.*.jpg/i.test(a.gsx$image.$t)?a.gsx$image.$t:z.a.base_image+a.gsx$image.$t;e.message.contents=y.a.createElement("div",{key:0},y.a.createElement("p",null," Congrats on your scan! "),y.a.createElement("br",null),y.a.createElement("p",{className:"bigger"}," ",a.gsx$name.$t," "),y.a.createElement("br",null),y.a.createElement("img",{className:"card",src:n}))}var r,l}},"Validate Code"),y.a.createElement("br",null),y.a.createElement("br",null),this.message.contents)}}]),t}(y.a.Component),l=M()(r.prototype,"code",[P.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=M()(r.prototype,"fan",[P.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n=r))||n)||n,H=a(123),L=a.n(H),Y=Object(E.a)((function(e,t,a){return t}))(A=Object(E.b)((B=function(e){function t(e){var a;s()(this,t),a=p()(this,h()(t).call(this,e)),w()(a,"loaded",F,S()(a)),w()(a,"cards",T,S()(a)),w()(a,"set",G,S()(a)),w()(a,"packs",J,S()(a)),a.handleChange=a.handleChange.bind(S()(a)),a.handleSubmit=a.handleSubmit.bind(S()(a));for(var n=0;n<9;n++)a.cards.push(y.a.createElement("div",{key:n,className:"card",style:{backgroundImage:'url("'.concat(z.a.base_image+z.a.card_back,'")')}}));return a}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this;if(0==this.loaded)return z.a.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then((function(){e.setupDB(),e.loaded=!0})),y.a.createElement(I.h,null);var t=[],a=1;for(var n in z.a.sets)if(t.push(y.a.createElement("option",{key:a++,value:n},z.a.sets[n])),a>11)break;return y.a.createElement("div",{className:"packsim"},y.a.createElement(N.a,x()({as:j.b},U.a.link,{to:"/EnterTheCode/"}),"Enter The Code"),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement("form",{onSubmit:this.handleSubmit},y.a.createElement("label",null,"Packs:",y.a.createElement("input",{name:"packs",type:"number",value:this.packs,min:"1",max:"24",style:{width:"32px",padding:"0px"},onChange:function(t){t.target.value>24&&(t.target.value=24),e.handleChange(t)}})),y.a.createElement("select",{name:"set",value:this.set,onChange:this.handleChange},y.a.createElement("option",{defaultValue:"selected",hidden:!0,style:{fontStyle:"italic"}},"Select a Set"),t),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement("input",{disabled:!this.set,type:"submit",value:"Open Packs"})),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement("div",{className:"pack"},this.cards))}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;this[t.name]=a}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();for(var a,n=[],r=[],l=0,i=this.filter.addDynamicView("set"),c=function(){var e=Math.floor(24*Math.random())+1;return 24==e?"Ultra Rare":e%3==0?"Super Rare":"Rare"},s=function(e){var t=parseInt(e)-10;return t<0&&(t=0),5*Math.floor(5*Math.random())+t},o=function e(t,a){var i=t[Math.floor(Math.random()*t.length)];if(i){if(r.indexOf(i.gsx$name)>-1&&i.gsx$exclusive.includes("Starter"))return e(t,a);if(r.push(i.gsx$name),"Creatures"!=i.gsx$type)n.push(y.a.createElement("div",{key:l++,className:"card",style:{backgroundImage:'url("'.concat(z.a.base_image+(i.gsx$image||z.a.card_back),'")')}}));else{var c=s(i.gsx$courage),o=s(i.gsx$power),u=s(i.gsx$wisdom),m=s(i.gsx$speed),p=(d=i.gsx$energy,(h=parseInt(d)-5)<0&&(h=0),5*Math.floor(3*Math.random())+h);n.push(y.a.createElement("div",{key:l++,className:"card",style:{backgroundImage:'url("'.concat(z.a.base_image+(i.gsx$image||z.a.card_back),'")')}},y.a.createElement("div",{className:"stats"},y.a.createElement("span",{key:"courage"},c),y.a.createElement("span",{key:"power"},o),y.a.createElement("span",{key:"wisdom"},u),y.a.createElement("span",{key:"speed"},m),y.a.createElement("span",{key:"energy"},p))))}var d,h}else n.push(y.a.createElement("div",{key:a,className:"card",style:{backgroundImage:'url("'.concat(z.a.base_image+z.a.card_back,'")')}}))},u=function(e,a){i.applyFind({gsx$set:t.set}).applyFind({gsx$rarity:e});for(var n=i.data(),r=0;r<a;r++)o(n,r);i.removeFilters()},m=["AU","FAS"],p=["OP1","PE1"],d=0;d<this.packs;d++)-1==m.indexOf(this.set)&&-1==p.indexOf(this.set)?(u("Common",4),u("Uncommon",3),u("Rare",1),u(c(),1)):-1==p.indexOf(this.set)?(u("Common",6),u("Rare",2),u(c(),1)):"OP1"===this.set?(u("Common",2),u((a=void 0,75==(a=Math.floor(75*Math.random())+1)?"Ultra Rare":a<19?"Super Rare":a<44?"Rare":"Uncommon"),1)):"PE1"===this.set&&(u("Super Rare",5),u("Ultra Rare",1)),r=[];this.filter.removeDynamicView("set"),this.cards=n}},{key:"setupDB",value:function(){var e,t=new L.a("filter.db").addCollection("filter");t.addDynamicView("alphabetical").applySimpleSort("gsx$name"),(e=z.a.cards.attacks.find()).forEach((function(e){return delete e.$loki})),t.insert(e),(e=z.a.cards.battlegear.find()).forEach((function(e){return delete e.$loki})),t.insert(e),(e=z.a.cards.creatures.find()).forEach((function(e){return delete e.$loki})),t.insert(e),(e=z.a.cards.locations.find()).forEach((function(e){return delete e.$loki})),t.insert(e),(e=z.a.cards.mugic.find()).forEach((function(e){return delete e.$loki})),t.insert(e),this.filter=t}}]),t}(y.a.Component),F=M()(B.prototype,"loaded",[P.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=M()(B.prototype,"cards",[P.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=M()(B.prototype,"set",[P.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),J=M()(B.prototype,"packs",[P.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=B))||A)||A;a.d(t,"default",(function(){return Q}));var Q=Object(E.a)((function(e,t,a){return t}))(K=Object(E.b)(K=function(e){function t(){return s()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){return y.a.createElement(W,this.props)}}]),t}(y.a.Component))||K)||K;function W(e){var t=e.match;return y.a.createElement("div",{className:"pack"},y.a.createElement(k.b,{exact:!0,path:t.url,component:q}),y.a.createElement(k.b,{path:"".concat(t.url,"/PackSimulator"),component:Y}))}}}]);