(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1040:function(e,t,a){},1047:function(e,t,a){"use strict";a.r(t);var n,r,l,c,i=a(82),s=a.n(i),o=a(63),u=a.n(o),m=a(166),p=a.n(m),d=a(167),f=a.n(d),g=a(168),h=a.n(g),E=a(0),y=a.n(E),b=a(128),v=a(60),k=a(169),x=a.n(k),$=a(102),w=a.n($),S=a(817),C=a.n(S),O=a(64),j=a.n(O),M=(a(816),a(3)),P=a(83),R=a(1035),N=a.n(R),D=a(1036),_=a.n(D),I=a(109),U=a(55),z=a(171),V=(a(1040),Object.create(z.a));V.input={width:"1.2em",height:"1.4em",font:"inherit",textAlign:"center",margin:"0.05em",backgroundColor:"rgba(0,0,0,0)",color:"white"},V.inputGroup={alignItems:"center"},V.hyphen={background:"white",height:"0.1em",width:".5em",display:"inline-block"};var A,B,F,T=Object(b.a)((function(e,t,a){return t}))(n=Object(b.b)((r=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=p()(this,(e=f()(t)).call.apply(e,[this].concat(r))),w()(a,"code",l,C()(a)),a.message=Object(M.n)({contents:null},{contents:M.n.ref}),w()(a,"fan",c,C()(a)),a}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this;if(!this.fan)return I.a.getSpreadsheet(I.a.path("1hzSojB76Me-P1qppxYR0oiHSU56jyK59x3DKm660ntc"),(function(t){e.fan=t})),y.a.createElement(U.h,null);return y.a.createElement("div",null,y.a.createElement(N.a,x()({as:P.b},V.link,{to:"/EnterTheCode/PackSimulator/"}),"Pack Simulator"),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement(_.a,{acceptedCharacters:/^[0-9a-z]$/i,length:12,value:this.code,onChange:function(t){return e.code=t}},(function(e){return y.a.createElement("div",{style:V.inputGroup},y.a.createElement("input",x()({type:"text",style:V.input},e[0])),y.a.createElement("input",x()({type:"text",style:V.input},e[1])),y.a.createElement("input",x()({type:"text",style:V.input},e[2])),y.a.createElement("input",x()({type:"text",style:V.input},e[3])),y.a.createElement("span",{style:V.hyphen}),y.a.createElement("input",x()({type:"text",style:V.input},e[4])),y.a.createElement("input",x()({type:"text",style:V.input},e[5])),y.a.createElement("input",x()({type:"text",style:V.input},e[6])),y.a.createElement("input",x()({type:"text",style:V.input},e[7])),y.a.createElement("span",{style:V.hyphen}),y.a.createElement("input",x()({type:"text",style:V.input},e[8])),y.a.createElement("input",x()({type:"text",style:V.input},e[9])),y.a.createElement("input",x()({type:"text",style:V.input},e[10])),y.a.createElement("input",x()({type:"text",style:V.input},e[11])))})),y.a.createElement("br",null),y.a.createElement("button",{onClick:function(t){if(t.preventDefault(),t.stopPropagation(),e.code.length<12||-1!=e.code.indexOf(" "))e.message.contents=y.a.createElement("p",{style:{color:"red"}},"Please enter a 12 digit code");else{var a=e.fan[(r=0,l=e.fan.length,r=Math.ceil(r),l=Math.floor(l),Math.floor(Math.random()*(l-r))+r)],n=/.*.png|.*.jpg/i.test(a.gsx$image.$t)?a.gsx$image.$t:I.a.base_image+a.gsx$image.$t;e.message.contents=y.a.createElement("div",{key:0},y.a.createElement("p",null," Congrats on your scan! "),y.a.createElement("br",null),y.a.createElement("p",{className:"bigger"}," ",a.gsx$name.$t," "),y.a.createElement("br",null),y.a.createElement("img",{className:"card",src:n}))}var r,l}},"Validate Code"),y.a.createElement("br",null),y.a.createElement("br",null),this.message.contents)}}]),t}(y.a.Component),l=j()(r.prototype,"code",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=j()(r.prototype,"fan",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n=r))||n)||n,G=a(818),J=a.n(G),K=a(170),q=a.n(K),H=new(A=function e(){var t=this;s()(this,e),w()(this,"filter",B,this),this.setupDB=function(){var e,a=new q.a("filter.db").addCollection("filter");a.addDynamicView("alphabetical").applySimpleSort("gsx$name"),(e=I.a.cards.attacks.find()).forEach((function(e){return delete e.$loki})),a.insert(e),(e=I.a.cards.battlegear.find()).forEach((function(e){return delete e.$loki})),a.insert(e),(e=I.a.cards.creatures.find()).forEach((function(e){return delete e.$loki})),a.insert(e),(e=I.a.cards.locations.find()).forEach((function(e){return delete e.$loki})),a.insert(e),(e=I.a.cards.mugic.find()).forEach((function(e){return delete e.$loki})),a.insert(e),t.filter=a},this.generate=function(e){for(var a,n=e.packs,r=e.set,l=[],c=[],i=0,s=t.filter.addDynamicView("set"),o=function(e){var t=parseInt(e)-10;return t<0&&(t=0),5*Math.floor(5*Math.random())+t},u=function e(t){var a=t[Math.floor(Math.random()*t.length)];if(a){if(c.indexOf(a.gsx$name)>-1||a.gsx$exclusive.includes("Starter"))return e(t);if(c.push(a.gsx$name),"Creatures"!=a.gsx$type)l.push(y.a.createElement("div",{key:i++,className:"card",style:{backgroundImage:'url("'.concat(I.a.base_image+(a.gsx$image||I.a.card_back),'")')}}));else{var n=o(a.gsx$courage),r=o(a.gsx$power),s=o(a.gsx$wisdom),u=o(a.gsx$speed),m=(p=a.gsx$energy,(d=parseInt(p)-5)<0&&(d=0),5*Math.floor(3*Math.random())+d);l.push(y.a.createElement("div",{key:i++,className:"card",style:{backgroundImage:'url("'.concat(I.a.base_image+(a.gsx$image||I.a.card_back),'")')}},y.a.createElement("div",{className:"stats"},y.a.createElement("span",{key:"courage"},n),y.a.createElement("span",{key:"power"},r),y.a.createElement("span",{key:"wisdom"},s),y.a.createElement("span",{key:"speed"},u),y.a.createElement("span",{key:"energy"},m))))}var p,d}else l.push(y.a.createElement("div",{key:i++,className:"card",style:{backgroundImage:'url("'.concat(I.a.base_image+I.a.card_back,'")')}}))},m=function(e,t){s.applyFind({gsx$set:r}).applyFind({gsx$rarity:e});for(var a=s.data(),n=0;n<t;n++)u(a);s.removeFilters()},p=function(){var e=Math.floor(24*Math.random())+1;return 24==e?"Ultra Rare":e%3==0?"Super Rare":"Rare"},d=["AU","FAS"],f=0;f<n;f++)"OP1"===r?(m("Common",2),m((a=void 0,75==(a=Math.floor(75*Math.random())+1)?"Ultra Rare":a<19?"Super Rare":a<44?"Rare":"Uncommon"),1)):"PE1"===r?(m("Super Rare",5),m("Ultra Rare",1)):d.indexOf(r)>-1?(m("Common",6),m("Rare",2),m(p(),1)):(m("Common",4),m("Uncommon",3),m("Rare",1),m(p(),1)),c=[];return t.filter.removeDynamicView("set"),l}},B=j()(A.prototype,"filter",[M.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A),L=H.generate,Y=H.setupDB,Q=function(e){var t=Object(E.useState)(!1),a=J()(t,2),n=a[0],r=a[1],l=Object(E.useState)(""),c=J()(l,2),i=c[0],s=c[1],o=Object(E.useState)([]),u=J()(o,2),m=u[0],p=u[1],d=Object(E.useState)([]),f=J()(d,2),g=f[0],h=f[1],b=Object(E.useState)(1),v=J()(b,2),k=v[0],$=v[1];if(Object(E.useEffect)((function(){I.a.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then((function(){Y(),r(!0)}));for(var e=[],t=0;t<9;t++)e.push(y.a.createElement("div",{key:t,className:"card",style:{backgroundImage:'url("'.concat(I.a.base_image+I.a.card_back,'")')}}));h(e);var a=[],n=1;for(var l in I.a.sets)if(a.push(y.a.createElement("option",{key:n++,value:l},I.a.sets[l])),"PE1"===l)break;p(a)}),[]),0==n)return y.a.createElement(U.h,null);return y.a.createElement("div",{className:"packsim"},y.a.createElement(N.a,x()({as:P.b},z.a.link,{to:"/EnterTheCode/"}),"Enter The Code"),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement("form",{onSubmit:function(e){event.preventDefault(),event.stopPropagation(),h(L({packs:k,set:i}))}},y.a.createElement("label",null,"Packs:",y.a.createElement("input",{name:"packs",type:"number",value:k,min:"1",max:"24",style:{width:"32px",padding:"0px"},onChange:function(e){e.target.value>24&&(e.target.value=24),$(e.target.value)}})),y.a.createElement("select",{name:"set",value:i,onChange:function(e){s(e.target.value)}},y.a.createElement("option",{defaultValue:"selected",hidden:!0,style:{fontStyle:"italic"}},"Select a Set"),m),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement("input",{disabled:!i,type:"submit",value:"Open Packs"})),y.a.createElement("br",null),y.a.createElement("br",null),y.a.createElement("div",{className:"pack"},g))};a.d(t,"default",(function(){return W}));var W=Object(b.a)((function(e,t,a){return t}))(F=Object(b.b)(F=function(e){function t(){return s()(this,t),p()(this,f()(t).apply(this,arguments))}return h()(t,e),u()(t,[{key:"render",value:function(){return y.a.createElement(X,this.props)}}]),t}(y.a.Component))||F)||F;function X(e){var t=e.match;return y.a.createElement("div",{className:"pack"},y.a.createElement(v.b,{exact:!0,path:t.url,component:T}),y.a.createElement(v.b,{path:"".concat(t.url,"/PackSimulator"),component:Q}))}}}]);